<!-- HTML header for doxygen 1.8.3.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>MLX90632 Driver Library: MLX90632 Internal library functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="melexis-logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">MLX90632 Driver Library
   &#160;<span id="projectnumber">a258525c</span>
   </div>
   <div id="projectbrief">Universal MCU library for the 90632</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__mlx90632__private.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">MLX90632 Internal library functions</div>  </div>
</div><!--header-->
<div class="contents">

<p>range measurements implementation for MLX90632 driver with virtual i2c communication  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gad92d7ee2b0b600bb83c7c4caf2e6d65c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mlx90632__private.html#gad92d7ee2b0b600bb83c7c4caf2e6d65c">POW10</a>&#160;&#160;&#160;10000000000LL</td></tr>
<tr class="separator:gad92d7ee2b0b600bb83c7c4caf2e6d65c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1c6d5de492ac61ad29aec7aa9a436bbf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mlx90632__private.html#ga1c6d5de492ac61ad29aec7aa9a436bbf">VERSION</a>&#160;&#160;&#160;&quot;test&quot;</td></tr>
<tr class="separator:ga1c6d5de492ac61ad29aec7aa9a436bbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga10b2d890d871e1489bb02b7e70d9bdfb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mlx90632__private.html#ga10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a>&#160;&#160;&#160;static</td></tr>
<tr class="separator:ga10b2d890d871e1489bb02b7e70d9bdfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad92d7ee2b0b600bb83c7c4caf2e6d65c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mlx90632__private.html#gad92d7ee2b0b600bb83c7c4caf2e6d65c">POW10</a>&#160;&#160;&#160;10000000000LL</td></tr>
<tr class="separator:gad92d7ee2b0b600bb83c7c4caf2e6d65c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1c6d5de492ac61ad29aec7aa9a436bbf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mlx90632__private.html#ga1c6d5de492ac61ad29aec7aa9a436bbf">VERSION</a>&#160;&#160;&#160;&quot;test&quot;</td></tr>
<tr class="separator:ga1c6d5de492ac61ad29aec7aa9a436bbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga10b2d890d871e1489bb02b7e70d9bdfb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mlx90632__private.html#ga10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a>&#160;&#160;&#160;static</td></tr>
<tr class="separator:ga10b2d890d871e1489bb02b7e70d9bdfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga087f6a3bdaceae00ab330aa76dfb5f3a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mlx90632__private.html#ga087f6a3bdaceae00ab330aa76dfb5f3a">mlx90632_start_measurement</a> (void)</td></tr>
<tr class="memdesc:ga087f6a3bdaceae00ab330aa76dfb5f3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Trigger start measurement for mlx90632.  <a href="#ga087f6a3bdaceae00ab330aa76dfb5f3a">More...</a><br /></td></tr>
<tr class="separator:ga087f6a3bdaceae00ab330aa76dfb5f3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf62ef0eb4d53be1ed3c131c3b13ae324"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__mlx90632__private.html#ga10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mlx90632__private.html#gaf62ef0eb4d53be1ed3c131c3b13ae324">mlx90632_channel_new_select</a> (int32_t ret, uint8_t *channel_new, uint8_t *channel_old)</td></tr>
<tr class="memdesc:gaf62ef0eb4d53be1ed3c131c3b13ae324"><td class="mdescLeft">&#160;</td><td class="mdescRight">Based on <a class="el" href="group__mlx90632___a_p_i.html#ga087f6a3bdaceae00ab330aa76dfb5f3a">mlx90632_start_measurement</a> return value fill channel_new and channel_old variables with proper values.  <a href="#gaf62ef0eb4d53be1ed3c131c3b13ae324">More...</a><br /></td></tr>
<tr class="separator:gaf62ef0eb4d53be1ed3c131c3b13ae324"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0d807560e3efcd83e1a12b569a6876b0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__mlx90632__private.html#ga10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mlx90632__private.html#ga0d807560e3efcd83e1a12b569a6876b0">mlx90632_read_temp_ambient_raw</a> (int16_t *ambient_new_raw, int16_t *ambient_old_raw)</td></tr>
<tr class="memdesc:ga0d807560e3efcd83e1a12b569a6876b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read ambient raw old and new values based on <a class="el" href="group__mlx90632___a_p_i.html#ga087f6a3bdaceae00ab330aa76dfb5f3a">mlx90632_start_measurement</a> return value.  <a href="#ga0d807560e3efcd83e1a12b569a6876b0">More...</a><br /></td></tr>
<tr class="separator:ga0d807560e3efcd83e1a12b569a6876b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1d1dd4ea2aae3fe570e783fb04296590"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__mlx90632__private.html#ga10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mlx90632__private.html#ga1d1dd4ea2aae3fe570e783fb04296590">mlx90632_read_temp_object_raw</a> (int32_t start_measurement_ret, int16_t *object_new_raw, int16_t *object_old_raw)</td></tr>
<tr class="memdesc:ga1d1dd4ea2aae3fe570e783fb04296590"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read object raw old and new values based on <a class="el" href="group__mlx90632___a_p_i.html#ga087f6a3bdaceae00ab330aa76dfb5f3a">mlx90632_start_measurement</a> return value.  <a href="#ga1d1dd4ea2aae3fe570e783fb04296590">More...</a><br /></td></tr>
<tr class="separator:ga1d1dd4ea2aae3fe570e783fb04296590"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga36c61b9d5417e77e415500ab45055053"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mlx90632__private.html#ga36c61b9d5417e77e415500ab45055053">mlx90632_read_temp_raw</a> (int16_t *ambient_new_raw, int16_t *ambient_old_raw, int16_t *object_new_raw, int16_t *object_old_raw)</td></tr>
<tr class="memdesc:ga36c61b9d5417e77e415500ab45055053"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read raw ambient and object temperature.  <a href="#ga36c61b9d5417e77e415500ab45055053">More...</a><br /></td></tr>
<tr class="separator:ga36c61b9d5417e77e415500ab45055053"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0bf069f7f2cdf82a7a8c86ea22c343f2"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mlx90632__private.html#ga0bf069f7f2cdf82a7a8c86ea22c343f2">mlx90632_read_temp_raw_burst</a> (int16_t *ambient_new_raw, int16_t *ambient_old_raw, int16_t *object_new_raw, int16_t *object_old_raw)</td></tr>
<tr class="memdesc:ga0bf069f7f2cdf82a7a8c86ea22c343f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read raw ambient and object temperature in sleeping step mode.  <a href="#ga0bf069f7f2cdf82a7a8c86ea22c343f2">More...</a><br /></td></tr>
<tr class="separator:ga0bf069f7f2cdf82a7a8c86ea22c343f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga06bcec82dba1e3d947dbca8203ca7e43"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mlx90632__private.html#ga06bcec82dba1e3d947dbca8203ca7e43">mlx90632_preprocess_temp_ambient</a> (int16_t ambient_new_raw, int16_t ambient_old_raw, int16_t Gb)</td></tr>
<tr class="memdesc:ga06bcec82dba1e3d947dbca8203ca7e43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculation of raw ambient output.  <a href="#ga06bcec82dba1e3d947dbca8203ca7e43">More...</a><br /></td></tr>
<tr class="separator:ga06bcec82dba1e3d947dbca8203ca7e43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaca7c5dd5a81d4e98de37195023bec370"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mlx90632__private.html#gaca7c5dd5a81d4e98de37195023bec370">mlx90632_preprocess_temp_object</a> (int16_t object_new_raw, int16_t object_old_raw, int16_t ambient_new_raw, int16_t ambient_old_raw, int16_t Ka)</td></tr>
<tr class="memdesc:gaca7c5dd5a81d4e98de37195023bec370"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculation of raw object output.  <a href="#gaca7c5dd5a81d4e98de37195023bec370">More...</a><br /></td></tr>
<tr class="separator:gaca7c5dd5a81d4e98de37195023bec370"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7939b85a05b6d8899c0d793b37388a0d"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mlx90632__private.html#ga7939b85a05b6d8899c0d793b37388a0d">mlx90632_calc_temp_ambient</a> (int16_t ambient_new_raw, int16_t ambient_old_raw, int32_t P_T, int32_t P_R, int32_t P_G, int32_t P_O, int16_t Gb)</td></tr>
<tr class="memdesc:ga7939b85a05b6d8899c0d793b37388a0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculation of ambient temperature.  <a href="#ga7939b85a05b6d8899c0d793b37388a0d">More...</a><br /></td></tr>
<tr class="separator:ga7939b85a05b6d8899c0d793b37388a0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac7e4d3fb10d2356a61cbdca768b5f898"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__mlx90632__private.html#ga10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mlx90632__private.html#gac7e4d3fb10d2356a61cbdca768b5f898">mlx90632_calc_temp_object_iteration</a> (double prev_object_temp, int32_t object, double TAdut, int32_t Ga, int32_t Fa, int32_t Fb, int16_t Ha, int16_t Hb, double <a class="el" href="group__mlx90632__private.html#ga550830179421e5b049ab66072426fa4f">emissivity</a>)</td></tr>
<tr class="memdesc:gac7e4d3fb10d2356a61cbdca768b5f898"><td class="mdescLeft">&#160;</td><td class="mdescRight">Iterative calculation of object temperature.  <a href="#gac7e4d3fb10d2356a61cbdca768b5f898">More...</a><br /></td></tr>
<tr class="separator:gac7e4d3fb10d2356a61cbdca768b5f898"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3950f4a7c4a371cf018be9af64c4e401"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__mlx90632__private.html#ga10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mlx90632__private.html#ga3950f4a7c4a371cf018be9af64c4e401">mlx90632_calc_temp_object_iteration_reflected</a> (double prev_object_temp, int32_t object, double TAdut, double TaTr4, int32_t Ga, int32_t Fa, int32_t Fb, int16_t Ha, int16_t Hb, double <a class="el" href="group__mlx90632__private.html#ga550830179421e5b049ab66072426fa4f">emissivity</a>)</td></tr>
<tr class="memdesc:ga3950f4a7c4a371cf018be9af64c4e401"><td class="mdescLeft">&#160;</td><td class="mdescRight">Iterative calculation of object temperature when the environment temperature differs from the sensor temperature.  <a href="#ga3950f4a7c4a371cf018be9af64c4e401">More...</a><br /></td></tr>
<tr class="separator:ga3950f4a7c4a371cf018be9af64c4e401"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6990b56cba8dd4e6f9508ae075b30be0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mlx90632__private.html#ga6990b56cba8dd4e6f9508ae075b30be0">mlx90632_set_emissivity</a> (double value)</td></tr>
<tr class="memdesc:ga6990b56cba8dd4e6f9508ae075b30be0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set emissivity which is retained in single variable.  <a href="#ga6990b56cba8dd4e6f9508ae075b30be0">More...</a><br /></td></tr>
<tr class="separator:ga6990b56cba8dd4e6f9508ae075b30be0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaefd8592cf3141fc3c743518f5c17922b"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mlx90632__private.html#gaefd8592cf3141fc3c743518f5c17922b">mlx90632_get_emissivity</a> (void)</td></tr>
<tr class="memdesc:gaefd8592cf3141fc3c743518f5c17922b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read value of emissivity.  <a href="#gaefd8592cf3141fc3c743518f5c17922b">More...</a><br /></td></tr>
<tr class="separator:gaefd8592cf3141fc3c743518f5c17922b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadaa9b8a1b74083aeee178f313fbad260"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mlx90632__private.html#gadaa9b8a1b74083aeee178f313fbad260">mlx90632_calc_temp_object</a> (int32_t object, int32_t ambient, int32_t Ea, int32_t Eb, int32_t Ga, int32_t Fa, int32_t Fb, int16_t Ha, int16_t Hb)</td></tr>
<tr class="memdesc:gadaa9b8a1b74083aeee178f313fbad260"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculation of object temperature.  <a href="#gadaa9b8a1b74083aeee178f313fbad260">More...</a><br /></td></tr>
<tr class="separator:gadaa9b8a1b74083aeee178f313fbad260"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3cb80620d338ca54f48e4d309ffeddaa"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mlx90632__private.html#ga3cb80620d338ca54f48e4d309ffeddaa">mlx90632_calc_temp_object_reflected</a> (int32_t object, int32_t ambient, double reflected, int32_t Ea, int32_t Eb, int32_t Ga, int32_t Fa, int32_t Fb, int16_t Ha, int16_t Hb)</td></tr>
<tr class="memdesc:ga3cb80620d338ca54f48e4d309ffeddaa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculation of object temperature when the environment temperature differs from the sensor temperature.  <a href="#ga3cb80620d338ca54f48e4d309ffeddaa">More...</a><br /></td></tr>
<tr class="separator:ga3cb80620d338ca54f48e4d309ffeddaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4959a8751a1c201cbb2b6bcf6ee07df8"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mlx90632__private.html#ga4959a8751a1c201cbb2b6bcf6ee07df8">mlx90632_init</a> (void)</td></tr>
<tr class="memdesc:ga4959a8751a1c201cbb2b6bcf6ee07df8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize MLX90632 driver and confirm EEPROM version.  <a href="#ga4959a8751a1c201cbb2b6bcf6ee07df8">More...</a><br /></td></tr>
<tr class="separator:ga4959a8751a1c201cbb2b6bcf6ee07df8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga31d678c2a72305b66912cb190f244ec8"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mlx90632__private.html#ga31d678c2a72305b66912cb190f244ec8">mlx90632_addressed_reset</a> (void)</td></tr>
<tr class="memdesc:ga31d678c2a72305b66912cb190f244ec8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Trigger system reset for mlx90632.  <a href="#ga31d678c2a72305b66912cb190f244ec8">More...</a><br /></td></tr>
<tr class="separator:ga31d678c2a72305b66912cb190f244ec8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga36bdd4dee5504b167d2224d7b3007e60"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mlx90632__private.html#ga36bdd4dee5504b167d2224d7b3007e60">mlx90632_get_measurement_time</a> (uint16_t meas)</td></tr>
<tr class="memdesc:ga36bdd4dee5504b167d2224d7b3007e60"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the refresh rate and calculates the time needed for a single measurment from the EEPROM settings.  <a href="#ga36bdd4dee5504b167d2224d7b3007e60">More...</a><br /></td></tr>
<tr class="separator:ga36bdd4dee5504b167d2224d7b3007e60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga81db5b10a8a36d5ae2cedc79ac5ab683"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mlx90632__private.html#ga81db5b10a8a36d5ae2cedc79ac5ab683">mlx90632_calculate_dataset_ready_time</a> (void)</td></tr>
<tr class="memdesc:ga81db5b10a8a36d5ae2cedc79ac5ab683"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the refresh rate and calculates the time needed for a whole measurment table from the EEPROM settings.  <a href="#ga81db5b10a8a36d5ae2cedc79ac5ab683">More...</a><br /></td></tr>
<tr class="separator:ga81db5b10a8a36d5ae2cedc79ac5ab683"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1cf68ccbba3a8f5da558e1b2e7933311"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mlx90632__private.html#ga1cf68ccbba3a8f5da558e1b2e7933311">mlx90632_start_measurement_burst</a> (void)</td></tr>
<tr class="memdesc:ga1cf68ccbba3a8f5da558e1b2e7933311"><td class="mdescLeft">&#160;</td><td class="mdescRight">Trigger start of burst measurement for mlx90632.  <a href="#ga1cf68ccbba3a8f5da558e1b2e7933311">More...</a><br /></td></tr>
<tr class="separator:ga1cf68ccbba3a8f5da558e1b2e7933311"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf023e210e302df641f7d37757a59a0c6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__mlx90632__private.html#ga10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mlx90632__private.html#gaf023e210e302df641f7d37757a59a0c6">mlx90632_unlock_eeporm</a> ()</td></tr>
<tr class="separator:gaf023e210e302df641f7d37757a59a0c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8c9dc3b91a65f759b8aef862c2fe4f05"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__mlx90632__private.html#ga10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mlx90632__private.html#ga8c9dc3b91a65f759b8aef862c2fe4f05">mlx90632_wait_for_eeprom_not_busy</a> ()</td></tr>
<tr class="separator:ga8c9dc3b91a65f759b8aef862c2fe4f05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga41628da99eb15d86581bc7d04a2293ed"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__mlx90632__private.html#ga10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mlx90632__private.html#ga41628da99eb15d86581bc7d04a2293ed">mlx90632_erase_eeprom</a> (uint16_t address)</td></tr>
<tr class="separator:ga41628da99eb15d86581bc7d04a2293ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3a5bef99b4aeacee4207adf74535d84d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__mlx90632__private.html#ga10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mlx90632__private.html#ga3a5bef99b4aeacee4207adf74535d84d">mlx90632_write_eeprom</a> (uint16_t address, uint16_t data)</td></tr>
<tr class="separator:ga3a5bef99b4aeacee4207adf74535d84d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf5da7e5427318d02caae74b3592083a2"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mlx90632__private.html#gaf5da7e5427318d02caae74b3592083a2">mlx90632_set_refresh_rate</a> (<a class="el" href="group__mlx90632___a_p_i.html#ga543d4e05716ffc64bb321a4e146e2cc3">mlx90632_meas_t</a> measRate)</td></tr>
<tr class="memdesc:gaf5da7e5427318d02caae74b3592083a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the refresh rate of the sensor using the MLX90632_EE_MEAS_1 and MLX90632_EE_MEAS_2 registers.  <a href="#gaf5da7e5427318d02caae74b3592083a2">More...</a><br /></td></tr>
<tr class="separator:gaf5da7e5427318d02caae74b3592083a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae953966860ae64ef8b9d3c3323ccbf75"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__mlx90632___a_p_i.html#ga543d4e05716ffc64bb321a4e146e2cc3">mlx90632_meas_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mlx90632__private.html#gae953966860ae64ef8b9d3c3323ccbf75">mlx90632_get_refresh_rate</a> (void)</td></tr>
<tr class="memdesc:gae953966860ae64ef8b9d3c3323ccbf75"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the value in MLX90632_EE_MEAS_1 and converts it to the appropriate MLX90632_MEAS enum.  <a href="#gae953966860ae64ef8b9d3c3323ccbf75">More...</a><br /></td></tr>
<tr class="separator:gae953966860ae64ef8b9d3c3323ccbf75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga50c12ec860889b49023df96ef51e4daf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__mlx90632__private.html#ga10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mlx90632__private.html#ga50c12ec860889b49023df96ef51e4daf">mlx90632_read_temp_ambient_raw_extended</a> (int16_t *ambient_new_raw, int16_t *ambient_old_raw)</td></tr>
<tr class="memdesc:ga50c12ec860889b49023df96ef51e4daf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read ambient raw old and new values for the extended range based on <a class="el" href="group__mlx90632___a_p_i.html#ga087f6a3bdaceae00ab330aa76dfb5f3a">mlx90632_start_measurement</a> return value.  <a href="#ga50c12ec860889b49023df96ef51e4daf">More...</a><br /></td></tr>
<tr class="separator:ga50c12ec860889b49023df96ef51e4daf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga98b562139318e477472a59ae2709dd87"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__mlx90632__private.html#ga10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mlx90632__private.html#ga98b562139318e477472a59ae2709dd87">mlx90632_read_temp_object_raw_extended</a> (int16_t *object_new_raw)</td></tr>
<tr class="memdesc:ga98b562139318e477472a59ae2709dd87"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read object raw values for the extended range based on <a class="el" href="group__mlx90632___a_p_i.html#ga087f6a3bdaceae00ab330aa76dfb5f3a">mlx90632_start_measurement</a> return value.  <a href="#ga98b562139318e477472a59ae2709dd87">More...</a><br /></td></tr>
<tr class="separator:ga98b562139318e477472a59ae2709dd87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7afac5b0dd3ab9fc6ba56250dc15be7c"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mlx90632__private.html#ga7afac5b0dd3ab9fc6ba56250dc15be7c">mlx90632_read_temp_raw_extended</a> (int16_t *ambient_new_raw, int16_t *ambient_old_raw, int16_t *object_new_raw)</td></tr>
<tr class="memdesc:ga7afac5b0dd3ab9fc6ba56250dc15be7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read raw ambient and object temperature for extended range.  <a href="#ga7afac5b0dd3ab9fc6ba56250dc15be7c">More...</a><br /></td></tr>
<tr class="separator:ga7afac5b0dd3ab9fc6ba56250dc15be7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga793a0b8991eda8a36cde8a5c9f35a175"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mlx90632__private.html#ga793a0b8991eda8a36cde8a5c9f35a175">mlx90632_read_temp_raw_extended_burst</a> (int16_t *ambient_new_raw, int16_t *ambient_old_raw, int16_t *object_new_raw)</td></tr>
<tr class="memdesc:ga793a0b8991eda8a36cde8a5c9f35a175"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read raw ambient and object temperature for extended range sleeping step mode.  <a href="#ga793a0b8991eda8a36cde8a5c9f35a175">More...</a><br /></td></tr>
<tr class="separator:ga793a0b8991eda8a36cde8a5c9f35a175"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad58d82a926d926d1ecfc71a620c8e5ea"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mlx90632__private.html#gad58d82a926d926d1ecfc71a620c8e5ea">mlx90632_preprocess_temp_ambient_extended</a> (int16_t ambient_new_raw, int16_t ambient_old_raw, int16_t Gb)</td></tr>
<tr class="memdesc:gad58d82a926d926d1ecfc71a620c8e5ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculation of raw ambient output for the extended range.  <a href="#gad58d82a926d926d1ecfc71a620c8e5ea">More...</a><br /></td></tr>
<tr class="separator:gad58d82a926d926d1ecfc71a620c8e5ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5de4bbb784eaefbe7d8e795756e70ddd"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mlx90632__private.html#ga5de4bbb784eaefbe7d8e795756e70ddd">mlx90632_preprocess_temp_object_extended</a> (int16_t object_new_raw, int16_t ambient_new_raw, int16_t ambient_old_raw, int16_t Ka)</td></tr>
<tr class="memdesc:ga5de4bbb784eaefbe7d8e795756e70ddd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculation of raw object output for the extended range.  <a href="#ga5de4bbb784eaefbe7d8e795756e70ddd">More...</a><br /></td></tr>
<tr class="separator:ga5de4bbb784eaefbe7d8e795756e70ddd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1e7fc75e6ac87adf93202df41bc9470f"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mlx90632__private.html#ga1e7fc75e6ac87adf93202df41bc9470f">mlx90632_calc_temp_ambient_extended</a> (int16_t ambient_new_raw, int16_t ambient_old_raw, int32_t P_T, int32_t P_R, int32_t P_G, int32_t P_O, int16_t Gb)</td></tr>
<tr class="memdesc:ga1e7fc75e6ac87adf93202df41bc9470f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculation of ambient temperature for the extended range.  <a href="#ga1e7fc75e6ac87adf93202df41bc9470f">More...</a><br /></td></tr>
<tr class="separator:ga1e7fc75e6ac87adf93202df41bc9470f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae5f43076a9f8f37adf6c8b745211dbc8"><td class="memItemLeft" align="right" valign="top">static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mlx90632__private.html#gae5f43076a9f8f37adf6c8b745211dbc8">mlx90632_calc_temp_object_iteration_extended</a> (double prev_object_temp, int32_t object, double TAdut, double TaTr4, int32_t Ga, int32_t Fa, int32_t Fb, int16_t Ha, int16_t Hb, double <a class="el" href="group__mlx90632__private.html#ga550830179421e5b049ab66072426fa4f">emissivity</a>)</td></tr>
<tr class="memdesc:gae5f43076a9f8f37adf6c8b745211dbc8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Iterative calculation of object temperature.  <a href="#gae5f43076a9f8f37adf6c8b745211dbc8">More...</a><br /></td></tr>
<tr class="separator:gae5f43076a9f8f37adf6c8b745211dbc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga20e35c5345ba0a03eda4a3a6e86ecde8"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mlx90632__private.html#ga20e35c5345ba0a03eda4a3a6e86ecde8">mlx90632_calc_temp_object_extended</a> (int32_t object, int32_t ambient, double reflected, int32_t Ea, int32_t Eb, int32_t Ga, int32_t Fa, int32_t Fb, int16_t Ha, int16_t Hb)</td></tr>
<tr class="memdesc:ga20e35c5345ba0a03eda4a3a6e86ecde8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculation of object temperature for the extended range.  <a href="#ga20e35c5345ba0a03eda4a3a6e86ecde8">More...</a><br /></td></tr>
<tr class="separator:ga20e35c5345ba0a03eda4a3a6e86ecde8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaac87fbb67b7475698ccabe2a80be39cf"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mlx90632__private.html#gaac87fbb67b7475698ccabe2a80be39cf">mlx90632_set_meas_type</a> (uint8_t type)</td></tr>
<tr class="memdesc:gaac87fbb67b7475698ccabe2a80be39cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switch the measurement type of the MLX90632.  <a href="#gaac87fbb67b7475698ccabe2a80be39cf">More...</a><br /></td></tr>
<tr class="separator:gaac87fbb67b7475698ccabe2a80be39cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad516c19b32a5b985f8f05312710bec42"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mlx90632__private.html#gad516c19b32a5b985f8f05312710bec42">mlx90632_get_meas_type</a> (void)</td></tr>
<tr class="memdesc:gad516c19b32a5b985f8f05312710bec42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current measurement type set in the MLX90632.  <a href="#gad516c19b32a5b985f8f05312710bec42">More...</a><br /></td></tr>
<tr class="separator:gad516c19b32a5b985f8f05312710bec42"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga4c40d3f9fa0642ccff11f4699f243180"><td class="memItemLeft" align="right" valign="top">static const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mlx90632__private.html#ga4c40d3f9fa0642ccff11f4699f243180">mlx90632version</a> [] = { <a class="el" href="group__mlx90632__private.html#ga1c6d5de492ac61ad29aec7aa9a436bbf">VERSION</a> }</td></tr>
<tr class="separator:ga4c40d3f9fa0642ccff11f4699f243180"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga550830179421e5b049ab66072426fa4f"><td class="memItemLeft" align="right" valign="top">static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mlx90632__private.html#ga550830179421e5b049ab66072426fa4f">emissivity</a> = 0.0</td></tr>
<tr class="separator:ga550830179421e5b049ab66072426fa4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>range measurements implementation for MLX90632 driver with virtual i2c communication </p>
<dl class="section copyright"><dt>Copyright</dt><dd>(C) 2017 Melexis N.V.</dd></dl>
<p>Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at </p><pre class="fragment">http://www.apache.org/licenses/LICENSE-2.0
</pre><p>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.</p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="gad92d7ee2b0b600bb83c7c4caf2e6d65c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define POW10&#160;&#160;&#160;10000000000LL</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="mlx90632__extended__meas_8c_source.html#l00034">34</a> of file <a class="el" href="mlx90632__extended__meas_8c_source.html">mlx90632_extended_meas.c</a>.</p>

</div>
</div>
<a class="anchor" id="gad92d7ee2b0b600bb83c7c4caf2e6d65c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define POW10&#160;&#160;&#160;10000000000LL</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="mlx90632_8c_source.html#l00035">35</a> of file <a class="el" href="mlx90632_8c_source.html">mlx90632.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga10b2d890d871e1489bb02b7e70d9bdfb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STATIC&#160;&#160;&#160;static</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="mlx90632__extended__meas_8c_source.html#l00041">41</a> of file <a class="el" href="mlx90632__extended__meas_8c_source.html">mlx90632_extended_meas.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga10b2d890d871e1489bb02b7e70d9bdfb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STATIC&#160;&#160;&#160;static</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="mlx90632_8c_source.html#l00044">44</a> of file <a class="el" href="mlx90632_8c_source.html">mlx90632.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga1c6d5de492ac61ad29aec7aa9a436bbf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VERSION&#160;&#160;&#160;&quot;test&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="mlx90632__extended__meas_8c_source.html#l00037">37</a> of file <a class="el" href="mlx90632__extended__meas_8c_source.html">mlx90632_extended_meas.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga1c6d5de492ac61ad29aec7aa9a436bbf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VERSION&#160;&#160;&#160;&quot;test&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="mlx90632_8c_source.html#l00038">38</a> of file <a class="el" href="mlx90632_8c_source.html">mlx90632.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga31d678c2a72305b66912cb190f244ec8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t mlx90632_addressed_reset </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Trigger system reset for mlx90632. </p>
<p>Perform full reset of mlx90632 using reset command. It also waits for at least 150us to ensure the mlx90632 device is properly reset and ready for further communications.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">&lt;0</td><td>Something failed. Check errno.h for more information </td></tr>
    <tr><td class="paramname">0</td><td>The mlx90632 device was properly reset and is now ready for communication.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function is using usleep so it is blocking! </dd></dl>

<p>Definition at line <a class="el" href="mlx90632_8c_source.html#l00475">475</a> of file <a class="el" href="mlx90632_8c_source.html">mlx90632.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;{</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    int32_t ret;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    ret = <a class="code" href="group__mlx90632___a_p_i__depends.html#gadd4725baf2ab7fbdce469ded4f9a88b1">mlx90632_i2c_write</a>(0x3005, <a class="code" href="group__mlx90632___a_p_i.html#ga33e6eb8a4bc2c394c08c7966ce574134">MLX90632_RESET_CMD</a>);</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <a class="code" href="group__mlx90632___a_p_i__depends.html#gaf8d28bb8dc5ad7e51324b607243fc182">usleep</a>(150, 200);</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;}</div><div class="ttc" id="group__mlx90632___a_p_i__depends_html_gadd4725baf2ab7fbdce469ded4f9a88b1"><div class="ttname"><a href="group__mlx90632___a_p_i__depends.html#gadd4725baf2ab7fbdce469ded4f9a88b1">mlx90632_i2c_write</a></div><div class="ttdeci">int32_t mlx90632_i2c_write(int16_t register_address, uint16_t value)</div><div class="ttdoc">Write value to register_address of the mlx90632. </div></div>
<div class="ttc" id="group__mlx90632___a_p_i__depends_html_gaf8d28bb8dc5ad7e51324b607243fc182"><div class="ttname"><a href="group__mlx90632___a_p_i__depends.html#gaf8d28bb8dc5ad7e51324b607243fc182">usleep</a></div><div class="ttdeci">void usleep(int min_range, int max_range)</div><div class="ttdoc">Blocking function for sleeping in microseconds. </div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_ga33e6eb8a4bc2c394c08c7966ce574134"><div class="ttname"><a href="group__mlx90632___a_p_i.html#ga33e6eb8a4bc2c394c08c7966ce574134">MLX90632_RESET_CMD</a></div><div class="ttdeci">#define MLX90632_RESET_CMD</div><div class="ttdoc">Reset sensor (address or global) </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00187">mlx90632.h:187</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga7939b85a05b6d8899c0d793b37388a0d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double mlx90632_calc_temp_ambient </td>
          <td>(</td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>ambient_new_raw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>ambient_old_raw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>P_T</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>P_R</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>P_G</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>P_O</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>Gb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculation of ambient temperature. </p>
<p>DSPv5 implementation of ambient temperature calculation</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ambient_new_raw</td><td>ambient temperature from <a class="el" href="group__mlx90632___a_p_i.html#ga8c4bf643c0a7d5b4318a01c391e58a44">MLX90632_RAM_3</a>. The channel 1 or 2 is determined by value in <a class="el" href="group__mlx90632___a_p_i.html#ga0a7a304c4dfb097c4e5dfd410916abc3">MLX90632_STAT_CYCLE_POS</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ambient_old_raw</td><td>ambient temperature from <a class="el" href="group__mlx90632___a_p_i.html#ga8c4bf643c0a7d5b4318a01c391e58a44">MLX90632_RAM_3</a>. The channel 1 or 2 is determined by value not in <a class="el" href="group__mlx90632___a_p_i.html#ga0a7a304c4dfb097c4e5dfd410916abc3">MLX90632_STAT_CYCLE_POS</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">P_T</td><td>Register value on <a class="el" href="group__mlx90632___a_p_i.html#gad50f196adba2440c053bc3a8c2a0ab9f">MLX90632_EE_P_T</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">P_R</td><td>Register value on <a class="el" href="group__mlx90632___a_p_i.html#gab4b5b68a32398184db31634ae558540e">MLX90632_EE_P_R</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">P_G</td><td>Register value on <a class="el" href="group__mlx90632___a_p_i.html#ga203e75a8e8aedae4776daa147ff6acba">MLX90632_EE_P_G</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">P_O</td><td>Register value on <a class="el" href="group__mlx90632___a_p_i.html#ga769ea3b88a0381c4d219c8f4823d6dce">MLX90632_EE_P_O</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Gb</td><td>Register value on <a class="el" href="group__mlx90632___a_p_i.html#ga3fb045ecd6369440678041a640220336">MLX90632_EE_Gb</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Calculated ambient temperature degrees Celsius </dd></dl>

<p>Definition at line <a class="el" href="mlx90632_8c_source.html#l00264">264</a> of file <a class="el" href="mlx90632_8c_source.html">mlx90632.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;{</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordtype">double</span> Asub, Bsub, Ablock, Bblock, Cblock, AMB;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    AMB = <a class="code" href="group__mlx90632__private.html#ga06bcec82dba1e3d947dbca8203ca7e43">mlx90632_preprocess_temp_ambient</a>(ambient_new_raw, ambient_old_raw, Gb);</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    Asub = ((double)P_T) / (double)17592186044416.0;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    Bsub = (double)AMB - ((<span class="keywordtype">double</span>)P_R / (double)256.0);</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    Ablock = Asub * (Bsub * Bsub);</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    Bblock = (Bsub / (double)P_G) * (double)1048576.0;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    Cblock = (double)P_O / (<span class="keywordtype">double</span>)256.0;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keywordflow">return</span> Bblock + Ablock + Cblock;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;}</div><div class="ttc" id="group__mlx90632__private_html_ga06bcec82dba1e3d947dbca8203ca7e43"><div class="ttname"><a href="group__mlx90632__private.html#ga06bcec82dba1e3d947dbca8203ca7e43">mlx90632_preprocess_temp_ambient</a></div><div class="ttdeci">double mlx90632_preprocess_temp_ambient(int16_t ambient_new_raw, int16_t ambient_old_raw, int16_t Gb)</div><div class="ttdoc">Calculation of raw ambient output. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8c_source.html#l00242">mlx90632.c:242</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga1e7fc75e6ac87adf93202df41bc9470f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double mlx90632_calc_temp_ambient_extended </td>
          <td>(</td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>ambient_new_raw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>ambient_old_raw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>P_T</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>P_R</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>P_G</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>P_O</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>Gb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculation of ambient temperature for the extended range. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ambient_new_raw</td><td>ambient temperature from <a class="el" href="group__mlx90632___a_p_i.html#ga8c4bf643c0a7d5b4318a01c391e58a44">MLX90632_RAM_3</a> from meas num 17 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ambient_old_raw</td><td>ambient temperature from <a class="el" href="group__mlx90632___a_p_i.html#ga8c4bf643c0a7d5b4318a01c391e58a44">MLX90632_RAM_3</a> from meas num 18 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">P_T</td><td>Register value on <a class="el" href="group__mlx90632___a_p_i.html#gad50f196adba2440c053bc3a8c2a0ab9f">MLX90632_EE_P_T</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">P_R</td><td>Register value on <a class="el" href="group__mlx90632___a_p_i.html#gab4b5b68a32398184db31634ae558540e">MLX90632_EE_P_R</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">P_G</td><td>Register value on <a class="el" href="group__mlx90632___a_p_i.html#ga203e75a8e8aedae4776daa147ff6acba">MLX90632_EE_P_G</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">P_O</td><td>Register value on <a class="el" href="group__mlx90632___a_p_i.html#ga769ea3b88a0381c4d219c8f4823d6dce">MLX90632_EE_P_O</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Gb</td><td>Register value on <a class="el" href="group__mlx90632___a_p_i.html#ga3fb045ecd6369440678041a640220336">MLX90632_EE_Gb</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Calculated ambient temperature degrees Celsius </dd></dl>

<p>Definition at line <a class="el" href="mlx90632__extended__meas_8c_source.html#l00207">207</a> of file <a class="el" href="mlx90632__extended__meas_8c_source.html">mlx90632_extended_meas.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;{</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keywordtype">double</span> Asub, Bsub, Ablock, Bblock, Cblock, AMB;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    AMB = <a class="code" href="group__mlx90632__private.html#gad58d82a926d926d1ecfc71a620c8e5ea">mlx90632_preprocess_temp_ambient_extended</a>(ambient_new_raw, ambient_old_raw, Gb);</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    Asub = ((double)P_T) / (double)17592186044416.0;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    Bsub = AMB - ((double)P_R / (<span class="keywordtype">double</span>)256.0);</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    Ablock = Asub * (Bsub * Bsub);</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    Bblock = (Bsub / (double)P_G) * (double)1048576.0;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    Cblock = (double)P_O / (<span class="keywordtype">double</span>)256.0;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keywordflow">return</span> Bblock + Ablock + Cblock;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;}</div><div class="ttc" id="group__mlx90632__private_html_gad58d82a926d926d1ecfc71a620c8e5ea"><div class="ttname"><a href="group__mlx90632__private.html#gad58d82a926d926d1ecfc71a620c8e5ea">mlx90632_preprocess_temp_ambient_extended</a></div><div class="ttdeci">double mlx90632_preprocess_temp_ambient_extended(int16_t ambient_new_raw, int16_t ambient_old_raw, int16_t Gb)</div><div class="ttdoc">Calculation of raw ambient output for the extended range. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632__extended__meas_8c_source.html#l00186">mlx90632_extended_meas.c:186</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gadaa9b8a1b74083aeee178f313fbad260"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double mlx90632_calc_temp_object </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>object</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>ambient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>Ea</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>Eb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>Ga</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>Fa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>Fb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>Ha</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>Hb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculation of object temperature. </p>
<p>DSPv5 implementation of object temperature calculation with customer calibration data</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">object</td><td>object temperature from <a class="el" href="group__mlx90632___a_p_i.html#gaca7c5dd5a81d4e98de37195023bec370">mlx90632_preprocess_temp_object</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ambient</td><td>ambient temperature from <a class="el" href="group__mlx90632___a_p_i.html#ga06bcec82dba1e3d947dbca8203ca7e43">mlx90632_preprocess_temp_ambient</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Ea</td><td>Register value on <a class="el" href="group__mlx90632___a_p_i.html#ga4399bd769986c4e50448e470d33faacb">MLX90632_EE_Ea</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Eb</td><td>Register value on <a class="el" href="group__mlx90632___a_p_i.html#gae2c1d4b53f308ceeba61097f29d5b4d7">MLX90632_EE_Eb</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Ga</td><td>Register value on <a class="el" href="group__mlx90632___a_p_i.html#gab2ec1c70573c1411fe3dcd0b43ac2eb9">MLX90632_EE_Ga</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Fb</td><td>Register value on <a class="el" href="group__mlx90632___a_p_i.html#ga276673fcf38453786ce26bfa29d471c0">MLX90632_EE_Fb</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Fa</td><td>Register value on <a class="el" href="group__mlx90632___a_p_i.html#gae7e90f34f173ef2590367d76b5e77005">MLX90632_EE_Fa</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Ha</td><td>Register value on <a class="el" href="group__mlx90632___a_p_i.html#ga2d03ba5187e90272e400bbc53596ae96">MLX90632_EE_Ha</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Hb</td><td>Register value on <a class="el" href="group__mlx90632___a_p_i.html#ga759b2d5623bc0a1ba3baefe2d2d430e1">MLX90632_EE_Hb</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>emissivity Value provided by user of the object emissivity using <a class="el" href="group__mlx90632___a_p_i.html#ga6990b56cba8dd4e6f9508ae075b30be0">mlx90632_set_emissivity</a> function.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Calculated object temperature in milliCelsius </dd></dl>

<p>Definition at line <a class="el" href="mlx90632_8c_source.html#l00389">389</a> of file <a class="el" href="mlx90632_8c_source.html">mlx90632.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;{</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="keywordtype">double</span> kEa, kEb, TAdut;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="keywordtype">double</span> temp = 25.0;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="keywordtype">double</span> tmp_emi = <a class="code" href="group__mlx90632__private.html#gaefd8592cf3141fc3c743518f5c17922b">mlx90632_get_emissivity</a>();</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    int8_t i;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    kEa = ((double)Ea) / ((double)65536.0);</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    kEb = ((double)Eb) / ((double)256.0);</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    TAdut = (((double)ambient) - kEb) / kEa + 25;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="comment">//iterate through calculations</span></div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; 5; ++i)</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    {</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        temp = <a class="code" href="group__mlx90632__private.html#gac7e4d3fb10d2356a61cbdca768b5f898">mlx90632_calc_temp_object_iteration</a>(temp, <span class="keywordtype">object</span>, TAdut, Ga, Fa, Fb, Ha, Hb, tmp_emi);</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    }</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="keywordflow">return</span> temp;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;}</div><div class="ttc" id="group__mlx90632__private_html_gac7e4d3fb10d2356a61cbdca768b5f898"><div class="ttname"><a href="group__mlx90632__private.html#gac7e4d3fb10d2356a61cbdca768b5f898">mlx90632_calc_temp_object_iteration</a></div><div class="ttdeci">STATIC double mlx90632_calc_temp_object_iteration(double prev_object_temp, int32_t object, double TAdut, int32_t Ga, int32_t Fa, int32_t Fb, int16_t Ha, int16_t Hb, double emissivity)</div><div class="ttdoc">Iterative calculation of object temperature. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8c_source.html#l00300">mlx90632.c:300</a></div></div>
<div class="ttc" id="group__mlx90632__private_html_gaefd8592cf3141fc3c743518f5c17922b"><div class="ttname"><a href="group__mlx90632__private.html#gaefd8592cf3141fc3c743518f5c17922b">mlx90632_get_emissivity</a></div><div class="ttdeci">double mlx90632_get_emissivity(void)</div><div class="ttdoc">Read value of emissivity. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8c_source.html#l00377">mlx90632.c:377</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga20e35c5345ba0a03eda4a3a6e86ecde8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double mlx90632_calc_temp_object_extended </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>object</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>ambient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>reflected</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>Ea</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>Eb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>Ga</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>Fa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>Fb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>Ha</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>Hb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculation of object temperature for the extended range. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">object</td><td>object temperature from <a class="el" href="group__mlx90632___a_p_i.html#gaca7c5dd5a81d4e98de37195023bec370">mlx90632_preprocess_temp_object</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ambient</td><td>sensor ambient temperature from <a class="el" href="group__mlx90632___a_p_i.html#ga06bcec82dba1e3d947dbca8203ca7e43">mlx90632_preprocess_temp_ambient</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">reflected</td><td>reflected (environment) temperature from a sensor different than the MLX90632 or acquired by other means </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Ea</td><td>Register value on <a class="el" href="group__mlx90632___a_p_i.html#ga4399bd769986c4e50448e470d33faacb">MLX90632_EE_Ea</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Eb</td><td>Register value on <a class="el" href="group__mlx90632___a_p_i.html#gae2c1d4b53f308ceeba61097f29d5b4d7">MLX90632_EE_Eb</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Ga</td><td>Register value on <a class="el" href="group__mlx90632___a_p_i.html#gab2ec1c70573c1411fe3dcd0b43ac2eb9">MLX90632_EE_Ga</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Fb</td><td>Register value on <a class="el" href="group__mlx90632___a_p_i.html#ga276673fcf38453786ce26bfa29d471c0">MLX90632_EE_Fb</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Fa</td><td>Register value on <a class="el" href="group__mlx90632___a_p_i.html#gae7e90f34f173ef2590367d76b5e77005">MLX90632_EE_Fa</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Ha</td><td>Register value on <a class="el" href="group__mlx90632___a_p_i.html#ga2d03ba5187e90272e400bbc53596ae96">MLX90632_EE_Ha</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Hb</td><td>Register value on <a class="el" href="group__mlx90632___a_p_i.html#ga759b2d5623bc0a1ba3baefe2d2d430e1">MLX90632_EE_Hb</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>emissivity Value provided by user of the object emissivity using <a class="el" href="group__mlx90632___a_p_i.html#ga6990b56cba8dd4e6f9508ae075b30be0">mlx90632_set_emissivity</a> function.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Calculated object temperature in milliCelsius </dd></dl>

<p>Definition at line <a class="el" href="mlx90632__extended__meas_8c_source.html#l00267">267</a> of file <a class="el" href="mlx90632__extended__meas_8c_source.html">mlx90632_extended_meas.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;{</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordtype">double</span> kEa, kEb, TAdut;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="keywordtype">double</span> temp = 25.0;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordtype">double</span> tmp_emi = <a class="code" href="group__mlx90632__private.html#gaefd8592cf3141fc3c743518f5c17922b">mlx90632_get_emissivity</a>();</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keywordtype">double</span> TaTr4;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keywordtype">double</span> ta4;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    int8_t i;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    kEa = ((double)Ea) / ((double)65536.0);</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    kEb = ((double)Eb) / ((double)256.0);</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    TAdut = (((double)ambient) - kEb) / kEa + 25;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    TaTr4 = reflected + 273.15;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    TaTr4 = TaTr4 * TaTr4;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    TaTr4 = TaTr4 * TaTr4;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    ta4 = TAdut + 273.15;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    ta4 = ta4 * ta4;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    ta4 = ta4 * ta4;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    TaTr4 = TaTr4 - (TaTr4 - ta4) / tmp_emi;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="comment">//iterate through calculations</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; 5; ++i)</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    {</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        temp = <a class="code" href="group__mlx90632__private.html#gae5f43076a9f8f37adf6c8b745211dbc8">mlx90632_calc_temp_object_iteration_extended</a>(temp, <span class="keywordtype">object</span>, TAdut, TaTr4, Ga, Fa / 2, Fb, Ha, Hb, tmp_emi);</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    }</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keywordflow">return</span> temp;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;}</div><div class="ttc" id="group__mlx90632__private_html_gae5f43076a9f8f37adf6c8b745211dbc8"><div class="ttname"><a href="group__mlx90632__private.html#gae5f43076a9f8f37adf6c8b745211dbc8">mlx90632_calc_temp_object_iteration_extended</a></div><div class="ttdeci">static double mlx90632_calc_temp_object_iteration_extended(double prev_object_temp, int32_t object, double TAdut, double TaTr4, int32_t Ga, int32_t Fa, int32_t Fb, int16_t Ha, int16_t Hb, double emissivity)</div><div class="ttdoc">Iterative calculation of object temperature. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632__extended__meas_8c_source.html#l00244">mlx90632_extended_meas.c:244</a></div></div>
<div class="ttc" id="group__mlx90632__private_html_gaefd8592cf3141fc3c743518f5c17922b"><div class="ttname"><a href="group__mlx90632__private.html#gaefd8592cf3141fc3c743518f5c17922b">mlx90632_get_emissivity</a></div><div class="ttdeci">double mlx90632_get_emissivity(void)</div><div class="ttdoc">Read value of emissivity. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8c_source.html#l00377">mlx90632.c:377</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gac7e4d3fb10d2356a61cbdca768b5f898"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__mlx90632__private.html#ga10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> double mlx90632_calc_temp_object_iteration </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>prev_object_temp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>object</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>TAdut</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>Ga</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>Fa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>Fb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>Ha</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>Hb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>emissivity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Iterative calculation of object temperature. </p>
<p>DSPv5 requires 3 iterations to reduce noise for object temperature. Since each iteration requires same calculations this helper function is implemented.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">prev_object_temp</td><td>previously calculated object temperature. If there is no previously calculated temperature input 25.0 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">object</td><td>object temperature from <a class="el" href="group__mlx90632___a_p_i.html#gaca7c5dd5a81d4e98de37195023bec370">mlx90632_preprocess_temp_object</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">TAdut</td><td>ambient temperature coefficient </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Ga</td><td>Register value on <a class="el" href="group__mlx90632___a_p_i.html#gab2ec1c70573c1411fe3dcd0b43ac2eb9">MLX90632_EE_Ga</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Fa</td><td>Register value on <a class="el" href="group__mlx90632___a_p_i.html#gae7e90f34f173ef2590367d76b5e77005">MLX90632_EE_Fa</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Fb</td><td>Register value on <a class="el" href="group__mlx90632___a_p_i.html#ga276673fcf38453786ce26bfa29d471c0">MLX90632_EE_Fb</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Ha</td><td>Register value on <a class="el" href="group__mlx90632___a_p_i.html#ga2d03ba5187e90272e400bbc53596ae96">MLX90632_EE_Ha</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Hb</td><td>Register value on <a class="el" href="group__mlx90632___a_p_i.html#ga759b2d5623bc0a1ba3baefe2d2d430e1">MLX90632_EE_Hb</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">emissivity</td><td>Value provided by user of the object emissivity</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Calculated object temperature for current iteration in milliCelsius </dd></dl>

<p>Definition at line <a class="el" href="mlx90632_8c_source.html#l00300">300</a> of file <a class="el" href="mlx90632_8c_source.html">mlx90632.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;{</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordtype">double</span> calcedGa, calcedGb, calcedFa, TAdut4, first_sqrt;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="comment">// temp variables</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="keywordtype">double</span> KsTAtmp, Alpha_corr;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="keywordtype">double</span> Ha_customer, Hb_customer;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    Ha_customer = Ha / ((double)16384.0);</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    Hb_customer = Hb / ((double)1024.0);</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    calcedGa = ((double)Ga * (prev_object_temp - 25)) / ((<span class="keywordtype">double</span>)68719476736.0);</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    KsTAtmp = (double)Fb * (TAdut - 25);</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    calcedGb = KsTAtmp / ((double)68719476736.0);</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    Alpha_corr = (((double)(Fa * <a class="code" href="group__mlx90632__private.html#gad92d7ee2b0b600bb83c7c4caf2e6d65c">POW10</a>)) * Ha_customer * (<span class="keywordtype">double</span>)(1 + calcedGa + calcedGb)) /</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                 ((double)70368744177664.0);</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    calcedFa = <span class="keywordtype">object</span> / (<a class="code" href="group__mlx90632__private.html#ga550830179421e5b049ab66072426fa4f">emissivity</a> * (Alpha_corr / <a class="code" href="group__mlx90632__private.html#gad92d7ee2b0b600bb83c7c4caf2e6d65c">POW10</a>));</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    TAdut4 = (TAdut + 273.15) * (TAdut + 273.15) * (TAdut + 273.15) * (TAdut + 273.15);</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    first_sqrt = sqrt(calcedFa + TAdut4);</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keywordflow">return</span> sqrt(first_sqrt) - 273.15 - Hb_customer;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;}</div><div class="ttc" id="group__mlx90632__private_html_gad92d7ee2b0b600bb83c7c4caf2e6d65c"><div class="ttname"><a href="group__mlx90632__private.html#gad92d7ee2b0b600bb83c7c4caf2e6d65c">POW10</a></div><div class="ttdeci">#define POW10</div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8c_source.html#l00035">mlx90632.c:35</a></div></div>
<div class="ttc" id="group__mlx90632__private_html_ga550830179421e5b049ab66072426fa4f"><div class="ttname"><a href="group__mlx90632__private.html#ga550830179421e5b049ab66072426fa4f">emissivity</a></div><div class="ttdeci">static double emissivity</div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8c_source.html#l00371">mlx90632.c:371</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gae5f43076a9f8f37adf6c8b745211dbc8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static double mlx90632_calc_temp_object_iteration_extended </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>prev_object_temp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>object</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>TAdut</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>TaTr4</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>Ga</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>Fa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>Fb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>Ha</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>Hb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>emissivity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Iterative calculation of object temperature. </p>
<p>The DSP requires few iterations to reduce noise for object temperature. Since each iteration requires same calculations this helper function is implemented.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">prev_object_temp</td><td>previously calculated object temperature. If there is no previously calculated temperature input 25.0 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">object</td><td>object temperature from <a class="el" href="group__mlx90632__private.html#ga5de4bbb784eaefbe7d8e795756e70ddd">mlx90632_preprocess_temp_object_extended</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">TAdut</td><td>ambient temperature coefficient </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">TaTr4</td><td>compensation coefficient for reflected (environment) temperature </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Ga</td><td>Register value on <a class="el" href="group__mlx90632___a_p_i.html#gab2ec1c70573c1411fe3dcd0b43ac2eb9">MLX90632_EE_Ga</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Fa</td><td>Register value on <a class="el" href="group__mlx90632___a_p_i.html#gae7e90f34f173ef2590367d76b5e77005">MLX90632_EE_Fa</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Fb</td><td>Register value on <a class="el" href="group__mlx90632___a_p_i.html#ga276673fcf38453786ce26bfa29d471c0">MLX90632_EE_Fb</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Ha</td><td>Register value on <a class="el" href="group__mlx90632___a_p_i.html#ga2d03ba5187e90272e400bbc53596ae96">MLX90632_EE_Ha</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Hb</td><td>Register value on <a class="el" href="group__mlx90632___a_p_i.html#ga759b2d5623bc0a1ba3baefe2d2d430e1">MLX90632_EE_Hb</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">emissivity</td><td>Value provided by user of the object emissivity</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Calculated object temperature for current iteration in milliCelsius </dd></dl>

<p>Definition at line <a class="el" href="mlx90632__extended__meas_8c_source.html#l00244">244</a> of file <a class="el" href="mlx90632__extended__meas_8c_source.html">mlx90632_extended_meas.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;{</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keywordtype">double</span> calcedGa, calcedGb, calcedFa, first_sqrt;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="comment">// temp variables</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordtype">double</span> KsTAtmp, Alpha_corr;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keywordtype">double</span> Ha_customer, Hb_customer;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    Ha_customer = Ha / ((double)16384.0);</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    Hb_customer = Hb / ((double)1024.0);</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    calcedGa = ((double)Ga * (prev_object_temp - 25)) / ((<span class="keywordtype">double</span>)68719476736.0);</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    KsTAtmp = (double)Fb * (TAdut - 25);</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    calcedGb = KsTAtmp / ((double)68719476736.0);</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    Alpha_corr = (((double)(Fa * <a class="code" href="group__mlx90632__private.html#gad92d7ee2b0b600bb83c7c4caf2e6d65c">POW10</a>)) * Ha_customer * (<span class="keywordtype">double</span>)(1.0 + calcedGa + calcedGb)) /</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                 ((double)70368744177664.0);</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    calcedFa = <span class="keywordtype">object</span> / (<a class="code" href="group__mlx90632__private.html#ga550830179421e5b049ab66072426fa4f">emissivity</a> * (Alpha_corr / <a class="code" href="group__mlx90632__private.html#gad92d7ee2b0b600bb83c7c4caf2e6d65c">POW10</a>));</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    first_sqrt = sqrt(calcedFa + TaTr4);</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="keywordflow">return</span> sqrt(first_sqrt) - 273.15 - Hb_customer;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;}</div><div class="ttc" id="group__mlx90632__private_html_gad92d7ee2b0b600bb83c7c4caf2e6d65c"><div class="ttname"><a href="group__mlx90632__private.html#gad92d7ee2b0b600bb83c7c4caf2e6d65c">POW10</a></div><div class="ttdeci">#define POW10</div><div class="ttdef"><b>Definition:</b> <a href="mlx90632__extended__meas_8c_source.html#l00034">mlx90632_extended_meas.c:34</a></div></div>
<div class="ttc" id="group__mlx90632__private_html_ga550830179421e5b049ab66072426fa4f"><div class="ttname"><a href="group__mlx90632__private.html#ga550830179421e5b049ab66072426fa4f">emissivity</a></div><div class="ttdeci">static double emissivity</div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8c_source.html#l00371">mlx90632.c:371</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga3950f4a7c4a371cf018be9af64c4e401"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__mlx90632__private.html#ga10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> double mlx90632_calc_temp_object_iteration_reflected </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>prev_object_temp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>object</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>TAdut</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>TaTr4</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>Ga</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>Fa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>Fb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>Ha</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>Hb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>emissivity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Iterative calculation of object temperature when the environment temperature differs from the sensor temperature. </p>
<p>DSPv5 requires 3 iterations to reduce noise for object temperature. Since each iteration requires same calculations this helper function is implemented.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">prev_object_temp</td><td>previously calculated object temperature. If there is no previously calculated temperature input 25.0 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">object</td><td>object temperature from <a class="el" href="group__mlx90632___a_p_i.html#gaca7c5dd5a81d4e98de37195023bec370">mlx90632_preprocess_temp_object</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">TAdut</td><td>ambient temperature coefficient </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">TaTr4</td><td>compensation coefficient for reflected (environment) temperature. The compensation coefficient is calculated from ambient temperature either from a sensor different than the MLX90632 or acquired by other means. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Ga</td><td>Register value on <a class="el" href="group__mlx90632___a_p_i.html#gab2ec1c70573c1411fe3dcd0b43ac2eb9">MLX90632_EE_Ga</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Fa</td><td>Register value on <a class="el" href="group__mlx90632___a_p_i.html#gae7e90f34f173ef2590367d76b5e77005">MLX90632_EE_Fa</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Fb</td><td>Register value on <a class="el" href="group__mlx90632___a_p_i.html#ga276673fcf38453786ce26bfa29d471c0">MLX90632_EE_Fb</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Ha</td><td>Register value on <a class="el" href="group__mlx90632___a_p_i.html#ga2d03ba5187e90272e400bbc53596ae96">MLX90632_EE_Ha</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Hb</td><td>Register value on <a class="el" href="group__mlx90632___a_p_i.html#ga759b2d5623bc0a1ba3baefe2d2d430e1">MLX90632_EE_Hb</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">emissivity</td><td>Value provided by user of the object emissivity</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Calculated object temperature for current iteration in milliCelsius </dd></dl>

<p>Definition at line <a class="el" href="mlx90632_8c_source.html#l00348">348</a> of file <a class="el" href="mlx90632_8c_source.html">mlx90632.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;{</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keywordtype">double</span> calcedGa, calcedGb, calcedFa, first_sqrt;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="comment">// temp variables</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="keywordtype">double</span> KsTAtmp, Alpha_corr;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="keywordtype">double</span> Ha_customer, Hb_customer;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    Ha_customer = Ha / ((double)16384.0);</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    Hb_customer = Hb / ((double)1024.0);</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    calcedGa = ((double)Ga * (prev_object_temp - 25)) / ((<span class="keywordtype">double</span>)68719476736.0);</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    KsTAtmp = (double)Fb * (TAdut - 25);</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    calcedGb = KsTAtmp / ((double)68719476736.0);</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    Alpha_corr = (((double)(Fa * <a class="code" href="group__mlx90632__private.html#gad92d7ee2b0b600bb83c7c4caf2e6d65c">POW10</a>)) * Ha_customer * (<span class="keywordtype">double</span>)(1 + calcedGa + calcedGb)) /</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                 ((double)70368744177664.0);</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    calcedFa = <span class="keywordtype">object</span> / (<a class="code" href="group__mlx90632__private.html#ga550830179421e5b049ab66072426fa4f">emissivity</a> * (Alpha_corr / <a class="code" href="group__mlx90632__private.html#gad92d7ee2b0b600bb83c7c4caf2e6d65c">POW10</a>));</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    first_sqrt = sqrt(calcedFa + TaTr4);</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="keywordflow">return</span> sqrt(first_sqrt) - 273.15 - Hb_customer;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;}</div><div class="ttc" id="group__mlx90632__private_html_gad92d7ee2b0b600bb83c7c4caf2e6d65c"><div class="ttname"><a href="group__mlx90632__private.html#gad92d7ee2b0b600bb83c7c4caf2e6d65c">POW10</a></div><div class="ttdeci">#define POW10</div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8c_source.html#l00035">mlx90632.c:35</a></div></div>
<div class="ttc" id="group__mlx90632__private_html_ga550830179421e5b049ab66072426fa4f"><div class="ttname"><a href="group__mlx90632__private.html#ga550830179421e5b049ab66072426fa4f">emissivity</a></div><div class="ttdeci">static double emissivity</div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8c_source.html#l00371">mlx90632.c:371</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga3cb80620d338ca54f48e4d309ffeddaa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double mlx90632_calc_temp_object_reflected </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>object</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>ambient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>reflected</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>Ea</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>Eb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>Ga</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>Fa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>Fb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>Ha</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>Hb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculation of object temperature when the environment temperature differs from the sensor temperature. </p>
<p>when the object has emissivity lower than 1 then it does not just emit InfraRed light, but also reflects it. That is why measurement of the ambient temperature around object is important to help calculating more precise object temperature. This function makes it possible to add object environment temperature and offset it with sensor's ambient temperature to calculate more precise object temperature. DSPv5 implementation of object temperature calculation with customer calibration data</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">object</td><td>object temperature from <a class="el" href="group__mlx90632___a_p_i.html#gaca7c5dd5a81d4e98de37195023bec370">mlx90632_preprocess_temp_object</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ambient</td><td>sensor ambient temperature from <a class="el" href="group__mlx90632___a_p_i.html#ga06bcec82dba1e3d947dbca8203ca7e43">mlx90632_preprocess_temp_ambient</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">reflected</td><td>reflected (environment) temperature from a sensor different than the MLX90632 or acquired by other means </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Ea</td><td>Register value on <a class="el" href="group__mlx90632___a_p_i.html#ga4399bd769986c4e50448e470d33faacb">MLX90632_EE_Ea</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Eb</td><td>Register value on <a class="el" href="group__mlx90632___a_p_i.html#gae2c1d4b53f308ceeba61097f29d5b4d7">MLX90632_EE_Eb</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Ga</td><td>Register value on <a class="el" href="group__mlx90632___a_p_i.html#gab2ec1c70573c1411fe3dcd0b43ac2eb9">MLX90632_EE_Ga</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Fb</td><td>Register value on <a class="el" href="group__mlx90632___a_p_i.html#ga276673fcf38453786ce26bfa29d471c0">MLX90632_EE_Fb</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Fa</td><td>Register value on <a class="el" href="group__mlx90632___a_p_i.html#gae7e90f34f173ef2590367d76b5e77005">MLX90632_EE_Fa</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Ha</td><td>Register value on <a class="el" href="group__mlx90632___a_p_i.html#ga2d03ba5187e90272e400bbc53596ae96">MLX90632_EE_Ha</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Hb</td><td>Register value on <a class="el" href="group__mlx90632___a_p_i.html#ga759b2d5623bc0a1ba3baefe2d2d430e1">MLX90632_EE_Hb</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>emissivity Value provided by user of the object emissivity using <a class="el" href="group__mlx90632___a_p_i.html#ga6990b56cba8dd4e6f9508ae075b30be0">mlx90632_set_emissivity</a> function.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Calculated object temperature in milliCelsius </dd></dl>

<p>Definition at line <a class="el" href="mlx90632_8c_source.html#l00410">410</a> of file <a class="el" href="mlx90632_8c_source.html">mlx90632.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;{</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="keywordtype">double</span> kEa, kEb, TAdut;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="keywordtype">double</span> temp = 25.0;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <span class="keywordtype">double</span> tmp_emi = <a class="code" href="group__mlx90632__private.html#gaefd8592cf3141fc3c743518f5c17922b">mlx90632_get_emissivity</a>();</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="keywordtype">double</span> TaTr4;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="keywordtype">double</span> ta4;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    int8_t i;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    kEa = ((double)Ea) / ((double)65536.0);</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    kEb = ((double)Eb) / ((double)256.0);</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    TAdut = (((double)ambient) - kEb) / kEa + 25;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    TaTr4 = reflected + 273.15;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    TaTr4 = TaTr4 * TaTr4;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    TaTr4 = TaTr4 * TaTr4;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    ta4 = TAdut + 273.15;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    ta4 = ta4 * ta4;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    ta4 = ta4 * ta4;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    TaTr4 = TaTr4 - (TaTr4 - ta4) / tmp_emi;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="comment">//iterate through calculations</span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; 5; ++i)</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    {</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        temp = <a class="code" href="group__mlx90632__private.html#ga3950f4a7c4a371cf018be9af64c4e401">mlx90632_calc_temp_object_iteration_reflected</a>(temp, <span class="keywordtype">object</span>, TAdut, TaTr4, Ga, Fa, Fb, Ha, Hb, tmp_emi);</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    }</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <span class="keywordflow">return</span> temp;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;}</div><div class="ttc" id="group__mlx90632__private_html_gaefd8592cf3141fc3c743518f5c17922b"><div class="ttname"><a href="group__mlx90632__private.html#gaefd8592cf3141fc3c743518f5c17922b">mlx90632_get_emissivity</a></div><div class="ttdeci">double mlx90632_get_emissivity(void)</div><div class="ttdoc">Read value of emissivity. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8c_source.html#l00377">mlx90632.c:377</a></div></div>
<div class="ttc" id="group__mlx90632__private_html_ga3950f4a7c4a371cf018be9af64c4e401"><div class="ttname"><a href="group__mlx90632__private.html#ga3950f4a7c4a371cf018be9af64c4e401">mlx90632_calc_temp_object_iteration_reflected</a></div><div class="ttdeci">STATIC double mlx90632_calc_temp_object_iteration_reflected(double prev_object_temp, int32_t object, double TAdut, double TaTr4, int32_t Ga, int32_t Fa, int32_t Fb, int16_t Ha, int16_t Hb, double emissivity)</div><div class="ttdoc">Iterative calculation of object temperature when the environment temperature differs from the sensor ...</div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8c_source.html#l00348">mlx90632.c:348</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga81db5b10a8a36d5ae2cedc79ac5ab683"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t mlx90632_calculate_dataset_ready_time </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads the refresh rate and calculates the time needed for a whole measurment table from the EEPROM settings. </p>
<p>The function is returning valid measurement time only for burst mode measurements. An error will be returned if it is called with a continuous measurement type parameter.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">&gt;=0</td><td>Refresh time in ms </td></tr>
    <tr><td class="paramname">&lt;0</td><td>Something went wrong. Check errno.h for more details. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mlx90632_8c_source.html#l00503">503</a> of file <a class="el" href="mlx90632_8c_source.html">mlx90632.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;{</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    int32_t ret;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    int32_t refresh_time;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    ret = <a class="code" href="group__mlx90632__private.html#gad516c19b32a5b985f8f05312710bec42">mlx90632_get_meas_type</a>();</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <span class="keywordflow">if</span> ((ret != <a class="code" href="group__mlx90632___a_p_i.html#gaebc2eba08cf6cfa4c649ef8022230d10">MLX90632_MTYP_MEDICAL_BURST</a>) &amp;&amp; (ret != <a class="code" href="group__mlx90632___a_p_i.html#gadec7fe0fc55ec3c37fe2747accc0cab2">MLX90632_MTYP_EXTENDED_BURST</a>))</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        <span class="keywordflow">return</span> -<a class="code" href="group__mlx90632___a_p_i.html#ga2d1678d5a7cc8ce499643f3b8957def4">EINVAL</a>;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="keywordflow">if</span> (ret == <a class="code" href="group__mlx90632___a_p_i.html#gaebc2eba08cf6cfa4c649ef8022230d10">MLX90632_MTYP_MEDICAL_BURST</a>)</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    {</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        ret = <a class="code" href="group__mlx90632__private.html#ga36bdd4dee5504b167d2224d7b3007e60">mlx90632_get_measurement_time</a>(<a class="code" href="group__mlx90632___a_p_i.html#ga69cfb1041a1cbd20e3057a8b8cd86053">MLX90632_EE_MEDICAL_MEAS1</a>);</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;            <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        refresh_time = ret;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        ret = <a class="code" href="group__mlx90632__private.html#ga36bdd4dee5504b167d2224d7b3007e60">mlx90632_get_measurement_time</a>(<a class="code" href="group__mlx90632___a_p_i.html#gaac6ce2743ff98a5e62702e50231a5213">MLX90632_EE_MEDICAL_MEAS2</a>);</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;            <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        refresh_time = refresh_time + ret;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    }</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    {</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        ret = <a class="code" href="group__mlx90632__private.html#ga36bdd4dee5504b167d2224d7b3007e60">mlx90632_get_measurement_time</a>(<a class="code" href="group__mlx90632___a_p_i.html#ga3ee84e78f8def070e892491f0df1b93a">MLX90632_EE_EXTENDED_MEAS1</a>);</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;            <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        refresh_time = ret;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        ret = <a class="code" href="group__mlx90632__private.html#ga36bdd4dee5504b167d2224d7b3007e60">mlx90632_get_measurement_time</a>(<a class="code" href="group__mlx90632___a_p_i.html#ga1233232ef253302868b8517fa3186d81">MLX90632_EE_EXTENDED_MEAS2</a>);</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;            <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        refresh_time = refresh_time + ret;</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        ret = <a class="code" href="group__mlx90632__private.html#ga36bdd4dee5504b167d2224d7b3007e60">mlx90632_get_measurement_time</a>(<a class="code" href="group__mlx90632___a_p_i.html#ga0773b06923b988f3ed6981a19b970362">MLX90632_EE_EXTENDED_MEAS3</a>);</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;            <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        refresh_time = refresh_time + ret;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    }</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <span class="keywordflow">return</span> refresh_time;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;}</div><div class="ttc" id="group__mlx90632___a_p_i_html_gaebc2eba08cf6cfa4c649ef8022230d10"><div class="ttname"><a href="group__mlx90632___a_p_i.html#gaebc2eba08cf6cfa4c649ef8022230d10">MLX90632_MTYP_MEDICAL_BURST</a></div><div class="ttdeci">#define MLX90632_MTYP_MEDICAL_BURST</div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00197">mlx90632.h:197</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_gaac6ce2743ff98a5e62702e50231a5213"><div class="ttname"><a href="group__mlx90632___a_p_i.html#gaac6ce2743ff98a5e62702e50231a5213">MLX90632_EE_MEDICAL_MEAS2</a></div><div class="ttdeci">#define MLX90632_EE_MEDICAL_MEAS2</div><div class="ttdoc">Medical measurement 2 16bit. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00112">mlx90632.h:112</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_ga69cfb1041a1cbd20e3057a8b8cd86053"><div class="ttname"><a href="group__mlx90632___a_p_i.html#ga69cfb1041a1cbd20e3057a8b8cd86053">MLX90632_EE_MEDICAL_MEAS1</a></div><div class="ttdeci">#define MLX90632_EE_MEDICAL_MEAS1</div><div class="ttdoc">Medical measurement 1 16bit. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00111">mlx90632.h:111</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_ga0773b06923b988f3ed6981a19b970362"><div class="ttname"><a href="group__mlx90632___a_p_i.html#ga0773b06923b988f3ed6981a19b970362">MLX90632_EE_EXTENDED_MEAS3</a></div><div class="ttdeci">#define MLX90632_EE_EXTENDED_MEAS3</div><div class="ttdoc">Extended measurement 3 16bit. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00115">mlx90632.h:115</a></div></div>
<div class="ttc" id="group__mlx90632__private_html_ga36bdd4dee5504b167d2224d7b3007e60"><div class="ttname"><a href="group__mlx90632__private.html#ga36bdd4dee5504b167d2224d7b3007e60">mlx90632_get_measurement_time</a></div><div class="ttdeci">int32_t mlx90632_get_measurement_time(uint16_t meas)</div><div class="ttdoc">Reads the refresh rate and calculates the time needed for a single measurment from the EEPROM setting...</div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8c_source.html#l00488">mlx90632.c:488</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_gadec7fe0fc55ec3c37fe2747accc0cab2"><div class="ttname"><a href="group__mlx90632___a_p_i.html#gadec7fe0fc55ec3c37fe2747accc0cab2">MLX90632_MTYP_EXTENDED_BURST</a></div><div class="ttdeci">#define MLX90632_MTYP_EXTENDED_BURST</div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00198">mlx90632.h:198</a></div></div>
<div class="ttc" id="group__mlx90632__private_html_gad516c19b32a5b985f8f05312710bec42"><div class="ttname"><a href="group__mlx90632__private.html#gad516c19b32a5b985f8f05312710bec42">mlx90632_get_meas_type</a></div><div class="ttdeci">int32_t mlx90632_get_meas_type(void)</div><div class="ttdoc">Get the current measurement type set in the MLX90632. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632__extended__meas_8c_source.html#l00341">mlx90632_extended_meas.c:341</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_ga1233232ef253302868b8517fa3186d81"><div class="ttname"><a href="group__mlx90632___a_p_i.html#ga1233232ef253302868b8517fa3186d81">MLX90632_EE_EXTENDED_MEAS2</a></div><div class="ttdeci">#define MLX90632_EE_EXTENDED_MEAS2</div><div class="ttdoc">Extended measurement 2 16bit. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00114">mlx90632.h:114</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_ga2d1678d5a7cc8ce499643f3b8957def4"><div class="ttname"><a href="group__mlx90632___a_p_i.html#ga2d1678d5a7cc8ce499643f3b8957def4">EINVAL</a></div><div class="ttdeci">#define EINVAL</div><div class="ttdoc">From linux errno.h. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00049">mlx90632.h:49</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_ga3ee84e78f8def070e892491f0df1b93a"><div class="ttname"><a href="group__mlx90632___a_p_i.html#ga3ee84e78f8def070e892491f0df1b93a">MLX90632_EE_EXTENDED_MEAS1</a></div><div class="ttdeci">#define MLX90632_EE_EXTENDED_MEAS1</div><div class="ttdoc">Extended measurement 1 16bit. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00113">mlx90632.h:113</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gaf62ef0eb4d53be1ed3c131c3b13ae324"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__mlx90632__private.html#ga10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> int32_t mlx90632_channel_new_select </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>ret</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>channel_new</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>channel_old</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Based on <a class="el" href="group__mlx90632___a_p_i.html#ga087f6a3bdaceae00ab330aa76dfb5f3a">mlx90632_start_measurement</a> return value fill channel_new and channel_old variables with proper values. </p>
<p>This is to provide a bit more flexibility in case other channels are returned and need a bit more mingeling than usual maths can provide.</p>
<p>So far there are just two use cases. If returned value is not 1 or 2, it will leave channel_new and channel_old unassigned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ret</td><td><a class="el" href="group__mlx90632___a_p_i.html#ga087f6a3bdaceae00ab330aa76dfb5f3a">mlx90632_start_measurement</a> return value </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*channel_new</td><td>Pointer to memory location where new channel value is stored </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*channel_old</td><td>Pointer to memory location where old channel value is stored</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>When both memory locations are updated as per ret </td></tr>
    <tr><td class="paramname">-EINVAL</td><td>channel_new and channel_old were not updated </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mlx90632_8c_source.html#l00097">97</a> of file <a class="el" href="mlx90632_8c_source.html">mlx90632.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;{</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordflow">switch</span> (ret)</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    {</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        <span class="keywordflow">case</span> 1:</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            *channel_new = 1;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            *channel_old = 2;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        <span class="keywordflow">case</span> 2:</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            *channel_new = 2;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            *channel_old = 1;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        <span class="keywordflow">default</span>:</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            <span class="keywordflow">return</span> -<a class="code" href="group__mlx90632___a_p_i.html#ga2d1678d5a7cc8ce499643f3b8957def4">EINVAL</a>;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    }</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;}</div><div class="ttc" id="group__mlx90632___a_p_i_html_ga2d1678d5a7cc8ce499643f3b8957def4"><div class="ttname"><a href="group__mlx90632___a_p_i.html#ga2d1678d5a7cc8ce499643f3b8957def4">EINVAL</a></div><div class="ttdeci">#define EINVAL</div><div class="ttdoc">From linux errno.h. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00049">mlx90632.h:49</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga41628da99eb15d86581bc7d04a2293ed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__mlx90632__private.html#ga10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> int32_t mlx90632_erase_eeprom </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="mlx90632_8c_source.html#l00616">616</a> of file <a class="el" href="mlx90632_8c_source.html">mlx90632.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;{</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    int32_t ret = <a class="code" href="group__mlx90632__private.html#gaf023e210e302df641f7d37757a59a0c6">mlx90632_unlock_eeporm</a>();</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    ret = <a class="code" href="group__mlx90632___a_p_i__depends.html#gadd4725baf2ab7fbdce469ded4f9a88b1">mlx90632_i2c_write</a>(address, 0x00);</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    ret = <a class="code" href="group__mlx90632__private.html#ga8c9dc3b91a65f759b8aef862c2fe4f05">mlx90632_wait_for_eeprom_not_busy</a>();</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;}</div><div class="ttc" id="group__mlx90632__private_html_gaf023e210e302df641f7d37757a59a0c6"><div class="ttname"><a href="group__mlx90632__private.html#gaf023e210e302df641f7d37757a59a0c6">mlx90632_unlock_eeporm</a></div><div class="ttdeci">STATIC int32_t mlx90632_unlock_eeporm()</div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8c_source.html#l00598">mlx90632.c:598</a></div></div>
<div class="ttc" id="group__mlx90632__private_html_ga8c9dc3b91a65f759b8aef862c2fe4f05"><div class="ttname"><a href="group__mlx90632__private.html#ga8c9dc3b91a65f759b8aef862c2fe4f05">mlx90632_wait_for_eeprom_not_busy</a></div><div class="ttdeci">STATIC int32_t mlx90632_wait_for_eeprom_not_busy()</div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8c_source.html#l00603">mlx90632.c:603</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i__depends_html_gadd4725baf2ab7fbdce469ded4f9a88b1"><div class="ttname"><a href="group__mlx90632___a_p_i__depends.html#gadd4725baf2ab7fbdce469ded4f9a88b1">mlx90632_i2c_write</a></div><div class="ttdeci">int32_t mlx90632_i2c_write(int16_t register_address, uint16_t value)</div><div class="ttdoc">Write value to register_address of the mlx90632. </div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gaefd8592cf3141fc3c743518f5c17922b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double mlx90632_get_emissivity </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read value of emissivity. </p>

<p>Definition at line <a class="el" href="mlx90632_8c_source.html#l00377">377</a> of file <a class="el" href="mlx90632_8c_source.html">mlx90632.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;{</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__mlx90632__private.html#ga550830179421e5b049ab66072426fa4f">emissivity</a> == 0.0)</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    {</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <span class="keywordflow">return</span> 1.0;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    }</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    {</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__mlx90632__private.html#ga550830179421e5b049ab66072426fa4f">emissivity</a>;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    }</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;}</div><div class="ttc" id="group__mlx90632__private_html_ga550830179421e5b049ab66072426fa4f"><div class="ttname"><a href="group__mlx90632__private.html#ga550830179421e5b049ab66072426fa4f">emissivity</a></div><div class="ttdeci">static double emissivity</div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8c_source.html#l00371">mlx90632.c:371</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gad516c19b32a5b985f8f05312710bec42"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t mlx90632_get_meas_type </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current measurement type set in the MLX90632. </p>
<dl class="section note"><dt>Note</dt><dd>the available types are defined as <a class="el" href="group__mlx90632___a_p_i.html#ga1382cfe6e5f6a03279191c35b8a4894e">MLX90632_MTYP_MEDICAL</a> and <a class="el" href="group__mlx90632___a_p_i.html#ga5f505008252f84f91692bffbe492b3fe">MLX90632_MTYP_EXTENDED</a></dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">=</td><td><a class="el" href="group__mlx90632___a_p_i.html#ga1382cfe6e5f6a03279191c35b8a4894e">MLX90632_MTYP_MEDICAL</a> - medical range measurement type </td></tr>
    <tr><td class="paramname">=</td><td><a class="el" href="group__mlx90632___a_p_i.html#ga5f505008252f84f91692bffbe492b3fe">MLX90632_MTYP_EXTENDED</a> - extended range measurement type </td></tr>
    <tr><td class="paramname">&lt;0</td><td>Something went wrong. Consult errno.h for more details. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mlx90632__extended__meas_8c_source.html#l00341">341</a> of file <a class="el" href="mlx90632__extended__meas_8c_source.html">mlx90632_extended_meas.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;{</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    int32_t ret;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    uint16_t reg_ctrl;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    uint16_t reg_temp;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    ret = <a class="code" href="group__mlx90632___a_p_i__depends.html#ga26c849ca0c3be8cc2a41e5178e92c1e4">mlx90632_i2c_read</a>(<a class="code" href="group__mlx90632___a_p_i.html#ga27ae349c04b6e114bcab5014269ce520">MLX90632_REG_CTRL</a>, &amp;reg_temp);</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    reg_ctrl = <a class="code" href="group__mlx90632___a_p_i.html#gaecb136cffb549561dcda651b200a224c">MLX90632_MTYP</a>(reg_temp);</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="keywordflow">if</span> ((reg_ctrl != <a class="code" href="group__mlx90632___a_p_i.html#ga1382cfe6e5f6a03279191c35b8a4894e">MLX90632_MTYP_MEDICAL</a>) &amp; (reg_ctrl != <a class="code" href="group__mlx90632___a_p_i.html#ga5f505008252f84f91692bffbe492b3fe">MLX90632_MTYP_EXTENDED</a>))</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        <span class="keywordflow">return</span> -<a class="code" href="group__mlx90632___a_p_i.html#ga2d1678d5a7cc8ce499643f3b8957def4">EINVAL</a>;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    reg_temp = <a class="code" href="group__mlx90632___a_p_i.html#ga8dd55b1115701c1d3184ef50becf097b">MLX90632_CFG_PWR</a>(reg_temp);</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keywordflow">if</span> (reg_temp == <a class="code" href="group__mlx90632___a_p_i.html#ga1a8b129b0eca4706468b2c7292362e7b">MLX90632_PWR_STATUS_SLEEP_STEP</a>)</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__mlx90632___a_p_i.html#ga9cea2fd718beb7b9ad7cbca957882919">MLX90632_BURST_MEASUREMENT_TYPE</a>(reg_ctrl);</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="keywordflow">if</span> (reg_temp != <a class="code" href="group__mlx90632___a_p_i.html#ga757652e077eae54f7f9bd8906c34025d">MLX90632_PWR_STATUS_CONTINUOUS</a>)</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        <span class="keywordflow">return</span> -<a class="code" href="group__mlx90632___a_p_i.html#ga2d1678d5a7cc8ce499643f3b8957def4">EINVAL</a>;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keywordflow">return</span> reg_ctrl;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;}</div><div class="ttc" id="group__mlx90632___a_p_i__depends_html_ga26c849ca0c3be8cc2a41e5178e92c1e4"><div class="ttname"><a href="group__mlx90632___a_p_i__depends.html#ga26c849ca0c3be8cc2a41e5178e92c1e4">mlx90632_i2c_read</a></div><div class="ttdeci">int32_t mlx90632_i2c_read(int16_t register_address, uint16_t *value)</div><div class="ttdoc">Read the register_address value from the mlx90632. </div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_gaecb136cffb549561dcda651b200a224c"><div class="ttname"><a href="group__mlx90632___a_p_i.html#gaecb136cffb549561dcda651b200a224c">MLX90632_MTYP</a></div><div class="ttdeci">#define MLX90632_MTYP(reg_val)</div><div class="ttdoc">Extract MTYP from Control register. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00162">mlx90632.h:162</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_ga1a8b129b0eca4706468b2c7292362e7b"><div class="ttname"><a href="group__mlx90632___a_p_i.html#ga1a8b129b0eca4706468b2c7292362e7b">MLX90632_PWR_STATUS_SLEEP_STEP</a></div><div class="ttdeci">#define MLX90632_PWR_STATUS_SLEEP_STEP</div><div class="ttdoc">Pwrmode sleep step. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00155">mlx90632.h:155</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_ga1382cfe6e5f6a03279191c35b8a4894e"><div class="ttname"><a href="group__mlx90632___a_p_i.html#ga1382cfe6e5f6a03279191c35b8a4894e">MLX90632_MTYP_MEDICAL</a></div><div class="ttdeci">#define MLX90632_MTYP_MEDICAL</div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00195">mlx90632.h:195</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_ga5f505008252f84f91692bffbe492b3fe"><div class="ttname"><a href="group__mlx90632___a_p_i.html#ga5f505008252f84f91692bffbe492b3fe">MLX90632_MTYP_EXTENDED</a></div><div class="ttdeci">#define MLX90632_MTYP_EXTENDED</div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00196">mlx90632.h:196</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_ga9cea2fd718beb7b9ad7cbca957882919"><div class="ttname"><a href="group__mlx90632___a_p_i.html#ga9cea2fd718beb7b9ad7cbca957882919">MLX90632_BURST_MEASUREMENT_TYPE</a></div><div class="ttdeci">#define MLX90632_BURST_MEASUREMENT_TYPE(meas_type)</div><div class="ttdoc">The MSBit is only used in the software to indicate burst type measurement. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00199">mlx90632.h:199</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_ga8dd55b1115701c1d3184ef50becf097b"><div class="ttname"><a href="group__mlx90632___a_p_i.html#ga8dd55b1115701c1d3184ef50becf097b">MLX90632_CFG_PWR</a></div><div class="ttdeci">#define MLX90632_CFG_PWR(ctrl_val)</div><div class="ttdoc">Extract the PowerMode bits. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00144">mlx90632.h:144</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_ga757652e077eae54f7f9bd8906c34025d"><div class="ttname"><a href="group__mlx90632___a_p_i.html#ga757652e077eae54f7f9bd8906c34025d">MLX90632_PWR_STATUS_CONTINUOUS</a></div><div class="ttdeci">#define MLX90632_PWR_STATUS_CONTINUOUS</div><div class="ttdoc">Pwrmode continuous. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00157">mlx90632.h:157</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_ga2d1678d5a7cc8ce499643f3b8957def4"><div class="ttname"><a href="group__mlx90632___a_p_i.html#ga2d1678d5a7cc8ce499643f3b8957def4">EINVAL</a></div><div class="ttdeci">#define EINVAL</div><div class="ttdoc">From linux errno.h. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00049">mlx90632.h:49</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_ga27ae349c04b6e114bcab5014269ce520"><div class="ttname"><a href="group__mlx90632___a_p_i.html#ga27ae349c04b6e114bcab5014269ce520">MLX90632_REG_CTRL</a></div><div class="ttdeci">#define MLX90632_REG_CTRL</div><div class="ttdoc">Control Register address. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00140">mlx90632.h:140</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga36bdd4dee5504b167d2224d7b3007e60"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t mlx90632_get_measurement_time </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>meas</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads the refresh rate and calculates the time needed for a single measurment from the EEPROM settings. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">meas</td><td>Measurement to read the frefresh rate for</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">&gt;=0</td><td>Refresh time in ms </td></tr>
    <tr><td class="paramname">&lt;0</td><td>Something went wrong. Check errno.h for more details. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mlx90632_8c_source.html#l00488">488</a> of file <a class="el" href="mlx90632_8c_source.html">mlx90632.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;{</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    int32_t ret;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    uint16_t reg;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    ret = <a class="code" href="group__mlx90632___a_p_i__depends.html#ga26c849ca0c3be8cc2a41e5178e92c1e4">mlx90632_i2c_read</a>(meas, &amp;reg);</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    reg &amp;= <a class="code" href="group__mlx90632___a_p_i.html#ga01bccdf21ab025bab5495237906225b8">MLX90632_EE_REFRESH_RATE_MASK</a>;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    reg = reg &gt;&gt; 8;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__mlx90632___a_p_i.html#ga7ead607ba8ad5602d70acde5016d38c3">MLX90632_MEAS_MAX_TIME</a> &gt;&gt; reg;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;}</div><div class="ttc" id="group__mlx90632___a_p_i_html_ga7ead607ba8ad5602d70acde5016d38c3"><div class="ttname"><a href="group__mlx90632___a_p_i.html#ga7ead607ba8ad5602d70acde5016d38c3">MLX90632_MEAS_MAX_TIME</a></div><div class="ttdeci">#define MLX90632_MEAS_MAX_TIME</div><div class="ttdoc">Maximum measurement time in ms for the lowest possible refresh rate. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00204">mlx90632.h:204</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_ga01bccdf21ab025bab5495237906225b8"><div class="ttname"><a href="group__mlx90632___a_p_i.html#ga01bccdf21ab025bab5495237906225b8">MLX90632_EE_REFRESH_RATE_MASK</a></div><div class="ttdeci">#define MLX90632_EE_REFRESH_RATE_MASK</div><div class="ttdoc">Refresh Rate Mask. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00131">mlx90632.h:131</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i__depends_html_ga26c849ca0c3be8cc2a41e5178e92c1e4"><div class="ttname"><a href="group__mlx90632___a_p_i__depends.html#ga26c849ca0c3be8cc2a41e5178e92c1e4">mlx90632_i2c_read</a></div><div class="ttdeci">int32_t mlx90632_i2c_read(int16_t register_address, uint16_t *value)</div><div class="ttdoc">Read the register_address value from the mlx90632. </div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gae953966860ae64ef8b9d3c3323ccbf75"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__mlx90632___a_p_i.html#ga543d4e05716ffc64bb321a4e146e2cc3">mlx90632_meas_t</a> mlx90632_get_refresh_rate </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the value in MLX90632_EE_MEAS_1 and converts it to the appropriate MLX90632_MEAS enum. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">MLX90632_MEAS_HZ_ERROR</td><td>if there is an error </td></tr>
    <tr><td class="paramname">refresh_rate</td><td>as the <a class="el" href="group__mlx90632___a_p_i.html#ga3122aed10aa79d44a31aa5305dec51f8">mlx90632_meas_e</a> </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mlx90632_8c_source.html#l00681">681</a> of file <a class="el" href="mlx90632_8c_source.html">mlx90632.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;{</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    int32_t ret;</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    uint16_t meas1;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    ret = <a class="code" href="group__mlx90632___a_p_i__depends.html#ga26c849ca0c3be8cc2a41e5178e92c1e4">mlx90632_i2c_read</a>(<a class="code" href="group__mlx90632___a_p_i.html#ga69cfb1041a1cbd20e3057a8b8cd86053">MLX90632_EE_MEDICAL_MEAS1</a>, &amp;meas1);</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__mlx90632___a_p_i.html#gga3122aed10aa79d44a31aa5305dec51f8a774cf57e052e0da615e64c92a37bc7c8">MLX90632_MEAS_HZ_ERROR</a>;</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__mlx90632___a_p_i.html#ga7519158afcb261932b762f92c2033884">MLX90632_REFRESH_RATE</a>(meas1);</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;}</div><div class="ttc" id="group__mlx90632___a_p_i__depends_html_ga26c849ca0c3be8cc2a41e5178e92c1e4"><div class="ttname"><a href="group__mlx90632___a_p_i__depends.html#ga26c849ca0c3be8cc2a41e5178e92c1e4">mlx90632_i2c_read</a></div><div class="ttdeci">int32_t mlx90632_i2c_read(int16_t register_address, uint16_t *value)</div><div class="ttdoc">Read the register_address value from the mlx90632. </div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_ga69cfb1041a1cbd20e3057a8b8cd86053"><div class="ttname"><a href="group__mlx90632___a_p_i.html#ga69cfb1041a1cbd20e3057a8b8cd86053">MLX90632_EE_MEDICAL_MEAS1</a></div><div class="ttdeci">#define MLX90632_EE_MEDICAL_MEAS1</div><div class="ttdoc">Medical measurement 1 16bit. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00111">mlx90632.h:111</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_gga3122aed10aa79d44a31aa5305dec51f8a774cf57e052e0da615e64c92a37bc7c8"><div class="ttname"><a href="group__mlx90632___a_p_i.html#gga3122aed10aa79d44a31aa5305dec51f8a774cf57e052e0da615e64c92a37bc7c8">MLX90632_MEAS_HZ_ERROR</a></div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00119">mlx90632.h:119</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_ga7519158afcb261932b762f92c2033884"><div class="ttname"><a href="group__mlx90632___a_p_i.html#ga7519158afcb261932b762f92c2033884">MLX90632_REFRESH_RATE</a></div><div class="ttdeci">#define MLX90632_REFRESH_RATE(ee_val)</div><div class="ttdoc">Extract Refresh Rate from ee register. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00133">mlx90632.h:133</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga4959a8751a1c201cbb2b6bcf6ee07df8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t mlx90632_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize MLX90632 driver and confirm EEPROM version. </p>
<p>EEPROM version is important to match sensor EEPROM content and calculations. This is why this function checks for correct EEPROM version before it does checksum validation of the EEPROM content.</p>
<dl class="section note"><dt>Note</dt><dd>EEPROM version can have swapped high and low bytes due to CPU or I2C. Please confirm that i2c read (16bit) is functioning as expected.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Successfully initialized MLX90632 driver, extended range measurement not supported </td></tr>
    <tr><td class="paramname"></td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mlx90632_8c_source.html#l00441">441</a> of file <a class="el" href="mlx90632_8c_source.html">mlx90632.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;{</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    int32_t ret;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    uint16_t eeprom_version, reg_status;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    ret = <a class="code" href="group__mlx90632___a_p_i__depends.html#ga26c849ca0c3be8cc2a41e5178e92c1e4">mlx90632_i2c_read</a>(<a class="code" href="group__mlx90632___a_p_i.html#ga2f304c71377af11eba7268b2e04685b1">MLX90632_EE_VERSION</a>, &amp;eeprom_version);</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    {</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    }</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="keywordflow">if</span> ((eeprom_version &amp; 0x00FF) != <a class="code" href="group__mlx90632___a_p_i.html#gacd208fac9b8ad190e1dee6e28ebf4baa">MLX90632_DSPv5</a>)</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    {</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        <span class="comment">// this here can fail because of big/little endian of cpu/i2c</span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        <span class="keywordflow">return</span> -<a class="code" href="group__mlx90632___a_p_i.html#gad581c46fdd4dee9419f60eaff40415e7">EPROTONOSUPPORT</a>;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    }</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    ret = <a class="code" href="group__mlx90632___a_p_i__depends.html#ga26c849ca0c3be8cc2a41e5178e92c1e4">mlx90632_i2c_read</a>(<a class="code" href="group__mlx90632___a_p_i.html#gaa71b864001998adc7b1ced30c0026fb4">MLX90632_REG_STATUS</a>, &amp;reg_status);</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="comment">// Prepare a clean start with setting NEW_DATA to 0</span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    ret = <a class="code" href="group__mlx90632___a_p_i__depends.html#gadd4725baf2ab7fbdce469ded4f9a88b1">mlx90632_i2c_write</a>(<a class="code" href="group__mlx90632___a_p_i.html#gaa71b864001998adc7b1ced30c0026fb4">MLX90632_REG_STATUS</a>, reg_status &amp; ~(<a class="code" href="group__mlx90632___a_p_i.html#gab4e367bc4e242eb5a6e6d259a354d442">MLX90632_STAT_DATA_RDY</a>));</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="keywordflow">if</span> ((eeprom_version &amp; 0x7F00) == <a class="code" href="group__mlx90632___a_p_i.html#ga72f371c3deb5b0cfea2d72b14b0c03e3">MLX90632_XTD_RNG_KEY</a>)</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    {</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__mlx90632___a_p_i.html#gaa1591a4f3a86360108de5b9ba34980ca">ERANGE</a>;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    }</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;}</div><div class="ttc" id="group__mlx90632___a_p_i_html_ga2f304c71377af11eba7268b2e04685b1"><div class="ttname"><a href="group__mlx90632___a_p_i.html#ga2f304c71377af11eba7268b2e04685b1">MLX90632_EE_VERSION</a></div><div class="ttdeci">#define MLX90632_EE_VERSION</div><div class="ttdoc">EEPROM version reg - assumed 0x101. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00087">mlx90632.h:87</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i__depends_html_ga26c849ca0c3be8cc2a41e5178e92c1e4"><div class="ttname"><a href="group__mlx90632___a_p_i__depends.html#ga26c849ca0c3be8cc2a41e5178e92c1e4">mlx90632_i2c_read</a></div><div class="ttdeci">int32_t mlx90632_i2c_read(int16_t register_address, uint16_t *value)</div><div class="ttdoc">Read the register_address value from the mlx90632. </div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_gad581c46fdd4dee9419f60eaff40415e7"><div class="ttname"><a href="group__mlx90632___a_p_i.html#gad581c46fdd4dee9419f60eaff40415e7">EPROTONOSUPPORT</a></div><div class="ttdeci">#define EPROTONOSUPPORT</div><div class="ttdoc">From linux errno.h. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00052">mlx90632.h:52</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_ga72f371c3deb5b0cfea2d72b14b0c03e3"><div class="ttname"><a href="group__mlx90632___a_p_i.html#ga72f371c3deb5b0cfea2d72b14b0c03e3">MLX90632_XTD_RNG_KEY</a></div><div class="ttdeci">#define MLX90632_XTD_RNG_KEY</div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00192">mlx90632.h:192</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i__depends_html_gadd4725baf2ab7fbdce469ded4f9a88b1"><div class="ttname"><a href="group__mlx90632___a_p_i__depends.html#gadd4725baf2ab7fbdce469ded4f9a88b1">mlx90632_i2c_write</a></div><div class="ttdeci">int32_t mlx90632_i2c_write(int16_t register_address, uint16_t value)</div><div class="ttdoc">Write value to register_address of the mlx90632. </div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_gaa1591a4f3a86360108de5b9ba34980ca"><div class="ttname"><a href="group__mlx90632___a_p_i.html#gaa1591a4f3a86360108de5b9ba34980ca">ERANGE</a></div><div class="ttdeci">#define ERANGE</div><div class="ttdoc">From linux errno.h. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00055">mlx90632.h:55</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_gaa71b864001998adc7b1ced30c0026fb4"><div class="ttname"><a href="group__mlx90632___a_p_i.html#gaa71b864001998adc7b1ced30c0026fb4">MLX90632_REG_STATUS</a></div><div class="ttdeci">#define MLX90632_REG_STATUS</div><div class="ttdoc">Device status register. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00168">mlx90632.h:168</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_gab4e367bc4e242eb5a6e6d259a354d442"><div class="ttname"><a href="group__mlx90632___a_p_i.html#gab4e367bc4e242eb5a6e6d259a354d442">MLX90632_STAT_DATA_RDY</a></div><div class="ttdeci">#define MLX90632_STAT_DATA_RDY</div><div class="ttdoc">Data ready indicator. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00173">mlx90632.h:173</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_gacd208fac9b8ad190e1dee6e28ebf4baa"><div class="ttname"><a href="group__mlx90632___a_p_i.html#gacd208fac9b8ad190e1dee6e28ebf4baa">MLX90632_DSPv5</a></div><div class="ttdeci">#define MLX90632_DSPv5</div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00184">mlx90632.h:184</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga06bcec82dba1e3d947dbca8203ca7e43"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double mlx90632_preprocess_temp_ambient </td>
          <td>(</td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>ambient_new_raw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>ambient_old_raw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>Gb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculation of raw ambient output. </p>
<p>Preprocessing of the raw ambient value</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ambient_new_raw</td><td>ambient temperature from <a class="el" href="group__mlx90632___a_p_i.html#ga8c4bf643c0a7d5b4318a01c391e58a44">MLX90632_RAM_3</a>. The meas_num 1 or 2 is determined by value in <a class="el" href="group__mlx90632___a_p_i.html#ga0a7a304c4dfb097c4e5dfd410916abc3">MLX90632_STAT_CYCLE_POS</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ambient_old_raw</td><td>ambient temperature from <a class="el" href="group__mlx90632___a_p_i.html#ga8c4bf643c0a7d5b4318a01c391e58a44">MLX90632_RAM_3</a>. The meas_num 1 or 2 is determined by value not in <a class="el" href="group__mlx90632___a_p_i.html#ga0a7a304c4dfb097c4e5dfd410916abc3">MLX90632_STAT_CYCLE_POS</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Gb</td><td>Register value on <a class="el" href="group__mlx90632___a_p_i.html#ga3fb045ecd6369440678041a640220336">MLX90632_EE_Gb</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Calculated ambient raw output </dd></dl>

<p>Definition at line <a class="el" href="mlx90632_8c_source.html#l00242">242</a> of file <a class="el" href="mlx90632_8c_source.html">mlx90632.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;{</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keywordtype">double</span> VR_Ta, kGb;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    kGb = ((double)Gb) / 1024.0;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    VR_Ta = ambient_old_raw + kGb * (ambient_new_raw / (<a class="code" href="group__mlx90632___a_p_i.html#gaee308c18a064ee52bcc97f66b7d2f742">MLX90632_REF_3</a>));</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordflow">return</span> ((ambient_new_raw / (<a class="code" href="group__mlx90632___a_p_i.html#gaee308c18a064ee52bcc97f66b7d2f742">MLX90632_REF_3</a>)) / VR_Ta) * 524288.0;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;}</div><div class="ttc" id="group__mlx90632___a_p_i_html_gaee308c18a064ee52bcc97f66b7d2f742"><div class="ttname"><a href="group__mlx90632___a_p_i.html#gaee308c18a064ee52bcc97f66b7d2f742">MLX90632_REF_3</a></div><div class="ttdeci">#define MLX90632_REF_3</div><div class="ttdoc">ResCtrlRef value of Channel 3. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00191">mlx90632.h:191</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gad58d82a926d926d1ecfc71a620c8e5ea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double mlx90632_preprocess_temp_ambient_extended </td>
          <td>(</td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>ambient_new_raw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>ambient_old_raw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>Gb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculation of raw ambient output for the extended range. </p>
<p>Preprocessing of the raw ambient value</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ambient_new_raw</td><td>ambient temperature from <a class="el" href="group__mlx90632___a_p_i.html#ga8c4bf643c0a7d5b4318a01c391e58a44">MLX90632_RAM_3</a> from meas num 17 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ambient_old_raw</td><td>ambient temperature from <a class="el" href="group__mlx90632___a_p_i.html#ga8c4bf643c0a7d5b4318a01c391e58a44">MLX90632_RAM_3</a> from meas num 18 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Gb</td><td>Register value on <a class="el" href="group__mlx90632___a_p_i.html#ga3fb045ecd6369440678041a640220336">MLX90632_EE_Gb</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Calculated ambient raw output </dd></dl>

<p>Definition at line <a class="el" href="mlx90632__extended__meas_8c_source.html#l00186">186</a> of file <a class="el" href="mlx90632__extended__meas_8c_source.html">mlx90632_extended_meas.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;{</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="keywordtype">double</span> VR_Ta, kGb;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    kGb = ((double)Gb) / 1024.0;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    VR_Ta = ambient_old_raw + kGb * (ambient_new_raw / (<a class="code" href="group__mlx90632___a_p_i.html#gaee308c18a064ee52bcc97f66b7d2f742">MLX90632_REF_3</a>));</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordflow">return</span> ((ambient_new_raw / (<a class="code" href="group__mlx90632___a_p_i.html#gaee308c18a064ee52bcc97f66b7d2f742">MLX90632_REF_3</a>)) / VR_Ta) * 524288.0;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;}</div><div class="ttc" id="group__mlx90632___a_p_i_html_gaee308c18a064ee52bcc97f66b7d2f742"><div class="ttname"><a href="group__mlx90632___a_p_i.html#gaee308c18a064ee52bcc97f66b7d2f742">MLX90632_REF_3</a></div><div class="ttdeci">#define MLX90632_REF_3</div><div class="ttdoc">ResCtrlRef value of Channel 3. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00191">mlx90632.h:191</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gaca7c5dd5a81d4e98de37195023bec370"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double mlx90632_preprocess_temp_object </td>
          <td>(</td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>object_new_raw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>object_old_raw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>ambient_new_raw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>ambient_old_raw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>Ka</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculation of raw object output. </p>
<p>Preprocessing of the raw object value</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">object_new_raw</td><td>object temperature from <a class="el" href="group__mlx90632___a_p_i.html#gae0bbb4692850f4c858528c4e0795e2dc">MLX90632_RAM_1</a> or <a class="el" href="group__mlx90632___a_p_i.html#ga57fa40f154147d582b78c13f8dbd0fa6">MLX90632_RAM_2</a>. The meas_number 1 or 2 is determined by value in <a class="el" href="group__mlx90632___a_p_i.html#ga0a7a304c4dfb097c4e5dfd410916abc3">MLX90632_STAT_CYCLE_POS</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">object_old_raw</td><td>object temperature from <a class="el" href="group__mlx90632___a_p_i.html#gae0bbb4692850f4c858528c4e0795e2dc">MLX90632_RAM_1</a> or <a class="el" href="group__mlx90632___a_p_i.html#ga57fa40f154147d582b78c13f8dbd0fa6">MLX90632_RAM_2</a>. The meas_number 1 or 2 is determined by value not in <a class="el" href="group__mlx90632___a_p_i.html#ga0a7a304c4dfb097c4e5dfd410916abc3">MLX90632_STAT_CYCLE_POS</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ambient_new_raw</td><td>ambient temperature from <a class="el" href="group__mlx90632___a_p_i.html#ga8c4bf643c0a7d5b4318a01c391e58a44">MLX90632_RAM_3</a>. The meas_number 1 or 2 is determined by value in <a class="el" href="group__mlx90632___a_p_i.html#ga0a7a304c4dfb097c4e5dfd410916abc3">MLX90632_STAT_CYCLE_POS</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ambient_old_raw</td><td>ambient temperature from <a class="el" href="group__mlx90632___a_p_i.html#ga8c4bf643c0a7d5b4318a01c391e58a44">MLX90632_RAM_3</a>. The meas_number 1 or 2 is determined by value not in <a class="el" href="group__mlx90632___a_p_i.html#ga0a7a304c4dfb097c4e5dfd410916abc3">MLX90632_STAT_CYCLE_POS</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Ka</td><td>Register value on <a class="el" href="group__mlx90632___a_p_i.html#gaa4e4a8bf0e751cf486e3b1ed9ccb7feb">MLX90632_EE_Ka</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Calculated object raw output </dd></dl>

<p>Definition at line <a class="el" href="mlx90632_8c_source.html#l00252">252</a> of file <a class="el" href="mlx90632_8c_source.html">mlx90632.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;{</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keywordtype">double</span> VR_IR, kKa;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    kKa = ((double)Ka) / 1024.0;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    VR_IR = ambient_old_raw + kKa * (ambient_new_raw / (<a class="code" href="group__mlx90632___a_p_i.html#gaee308c18a064ee52bcc97f66b7d2f742">MLX90632_REF_3</a>));</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keywordflow">return</span> ((((object_new_raw + object_old_raw) / 2) / (<a class="code" href="group__mlx90632___a_p_i.html#gad4bae5afc75e99003c2b453cbe3d4b82">MLX90632_REF_12</a>)) / VR_IR) * 524288.0;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;}</div><div class="ttc" id="group__mlx90632___a_p_i_html_gaee308c18a064ee52bcc97f66b7d2f742"><div class="ttname"><a href="group__mlx90632___a_p_i.html#gaee308c18a064ee52bcc97f66b7d2f742">MLX90632_REF_3</a></div><div class="ttdeci">#define MLX90632_REF_3</div><div class="ttdoc">ResCtrlRef value of Channel 3. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00191">mlx90632.h:191</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_gad4bae5afc75e99003c2b453cbe3d4b82"><div class="ttname"><a href="group__mlx90632___a_p_i.html#gad4bae5afc75e99003c2b453cbe3d4b82">MLX90632_REF_12</a></div><div class="ttdeci">#define MLX90632_REF_12</div><div class="ttdoc">ResCtrlRef value of Channel 1 or Channel 2. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00190">mlx90632.h:190</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga5de4bbb784eaefbe7d8e795756e70ddd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double mlx90632_preprocess_temp_object_extended </td>
          <td>(</td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>object_new_raw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>ambient_new_raw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>ambient_old_raw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>Ka</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculation of raw object output for the extended range. </p>
<p>Preprocessing of the raw object value</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">object_new_raw</td><td>object temperature from <a class="el" href="group__mlx90632___a_p_i.html#gae0bbb4692850f4c858528c4e0795e2dc">MLX90632_RAM_1</a> and <a class="el" href="group__mlx90632___a_p_i.html#ga57fa40f154147d582b78c13f8dbd0fa6">MLX90632_RAM_2</a> from meas_number 17, 18 and 19 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ambient_new_raw</td><td>ambient temperature from <a class="el" href="group__mlx90632___a_p_i.html#ga8c4bf643c0a7d5b4318a01c391e58a44">MLX90632_RAM_3</a> from meas num 17 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ambient_old_raw</td><td>ambient temperature from <a class="el" href="group__mlx90632___a_p_i.html#ga8c4bf643c0a7d5b4318a01c391e58a44">MLX90632_RAM_3</a> from meas num 18 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Ka</td><td>Register value on <a class="el" href="group__mlx90632___a_p_i.html#gaa4e4a8bf0e751cf486e3b1ed9ccb7feb">MLX90632_EE_Ka</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Calculated object raw output </dd></dl>

<p>Definition at line <a class="el" href="mlx90632__extended__meas_8c_source.html#l00196">196</a> of file <a class="el" href="mlx90632__extended__meas_8c_source.html">mlx90632_extended_meas.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;{</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordtype">double</span> VR_IR, kKa;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    kKa = ((double)Ka) / 1024.0;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    VR_IR = ambient_old_raw + kKa * (ambient_new_raw / (<a class="code" href="group__mlx90632___a_p_i.html#gaee308c18a064ee52bcc97f66b7d2f742">MLX90632_REF_3</a>));</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keywordflow">return</span> ((object_new_raw / (<a class="code" href="group__mlx90632___a_p_i.html#gad4bae5afc75e99003c2b453cbe3d4b82">MLX90632_REF_12</a>)) / VR_IR) * 524288.0;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;}</div><div class="ttc" id="group__mlx90632___a_p_i_html_gaee308c18a064ee52bcc97f66b7d2f742"><div class="ttname"><a href="group__mlx90632___a_p_i.html#gaee308c18a064ee52bcc97f66b7d2f742">MLX90632_REF_3</a></div><div class="ttdeci">#define MLX90632_REF_3</div><div class="ttdoc">ResCtrlRef value of Channel 3. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00191">mlx90632.h:191</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_gad4bae5afc75e99003c2b453cbe3d4b82"><div class="ttname"><a href="group__mlx90632___a_p_i.html#gad4bae5afc75e99003c2b453cbe3d4b82">MLX90632_REF_12</a></div><div class="ttdeci">#define MLX90632_REF_12</div><div class="ttdoc">ResCtrlRef value of Channel 1 or Channel 2. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00190">mlx90632.h:190</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga0d807560e3efcd83e1a12b569a6876b0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__mlx90632__private.html#ga10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> int32_t mlx90632_read_temp_ambient_raw </td>
          <td>(</td>
          <td class="paramtype">int16_t *&#160;</td>
          <td class="paramname"><em>ambient_new_raw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t *&#160;</td>
          <td class="paramname"><em>ambient_old_raw</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read ambient raw old and new values based on <a class="el" href="group__mlx90632___a_p_i.html#ga087f6a3bdaceae00ab330aa76dfb5f3a">mlx90632_start_measurement</a> return value. </p>
<p>Two i2c_reads are needed to obtain necessary raw ambient values from the sensor, as they are then preprocessed before going to calculation functions. Because one value is newer than other (see <a class="el" href="group__mlx90632___a_p_i.html#ga087f6a3bdaceae00ab330aa76dfb5f3a">mlx90632_start_measurement</a>) this function provides dynamics based on return value of the <a class="el" href="group__mlx90632___a_p_i.html#ga087f6a3bdaceae00ab330aa76dfb5f3a">mlx90632_start_measurement</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">*ambient_new_raw</td><td>Pointer to memory location where new ambient value from sensor is stored </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*ambient_old_raw</td><td>Pointer to memory location where old ambient value from sensor is stored</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Successfully read both values </td></tr>
    <tr><td class="paramname">&lt;0</td><td>Something went wrong. Check errno.h for more details. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mlx90632_8c_source.html#l00130">130</a> of file <a class="el" href="mlx90632_8c_source.html">mlx90632.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;{</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    int32_t ret;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    uint16_t read_tmp;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    ret = <a class="code" href="group__mlx90632___a_p_i__depends.html#ga26c849ca0c3be8cc2a41e5178e92c1e4">mlx90632_i2c_read</a>(<a class="code" href="group__mlx90632___a_p_i.html#ga8c4bf643c0a7d5b4318a01c391e58a44">MLX90632_RAM_3</a>(1), &amp;read_tmp);</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    *ambient_new_raw = (int16_t)read_tmp;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    ret = <a class="code" href="group__mlx90632___a_p_i__depends.html#ga26c849ca0c3be8cc2a41e5178e92c1e4">mlx90632_i2c_read</a>(<a class="code" href="group__mlx90632___a_p_i.html#ga8c4bf643c0a7d5b4318a01c391e58a44">MLX90632_RAM_3</a>(2), &amp;read_tmp);</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    *ambient_old_raw = (int16_t)read_tmp;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;}</div><div class="ttc" id="group__mlx90632___a_p_i_html_ga8c4bf643c0a7d5b4318a01c391e58a44"><div class="ttname"><a href="group__mlx90632___a_p_i.html#ga8c4bf643c0a7d5b4318a01c391e58a44">MLX90632_RAM_3</a></div><div class="ttdeci">#define MLX90632_RAM_3(meas_num)</div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00178">mlx90632.h:178</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i__depends_html_ga26c849ca0c3be8cc2a41e5178e92c1e4"><div class="ttname"><a href="group__mlx90632___a_p_i__depends.html#ga26c849ca0c3be8cc2a41e5178e92c1e4">mlx90632_i2c_read</a></div><div class="ttdeci">int32_t mlx90632_i2c_read(int16_t register_address, uint16_t *value)</div><div class="ttdoc">Read the register_address value from the mlx90632. </div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga50c12ec860889b49023df96ef51e4daf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__mlx90632__private.html#ga10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> int32_t mlx90632_read_temp_ambient_raw_extended </td>
          <td>(</td>
          <td class="paramtype">int16_t *&#160;</td>
          <td class="paramname"><em>ambient_new_raw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t *&#160;</td>
          <td class="paramname"><em>ambient_old_raw</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read ambient raw old and new values for the extended range based on <a class="el" href="group__mlx90632___a_p_i.html#ga087f6a3bdaceae00ab330aa76dfb5f3a">mlx90632_start_measurement</a> return value. </p>
<p>Two i2c_reads are needed to obtain necessary raw ambient values from the sensor, as they are then preprocessed before going to calculation functions </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">*ambient_new_raw</td><td>Pointer to memory location where new ambient value from sensor is stored </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*ambient_old_raw</td><td>Pointer to memory location where old ambient value from sensor is stored</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Successfully read both values </td></tr>
    <tr><td class="paramname">&lt;0</td><td>Something went wrong. Check errno.h for more details. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mlx90632__extended__meas_8c_source.html#l00054">54</a> of file <a class="el" href="mlx90632__extended__meas_8c_source.html">mlx90632_extended_meas.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;{</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    int32_t ret;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    uint16_t read_tmp;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    ret = <a class="code" href="group__mlx90632___a_p_i__depends.html#ga26c849ca0c3be8cc2a41e5178e92c1e4">mlx90632_i2c_read</a>(<a class="code" href="group__mlx90632___a_p_i.html#ga8c4bf643c0a7d5b4318a01c391e58a44">MLX90632_RAM_3</a>(17), &amp;read_tmp);</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    *ambient_new_raw = (int16_t)read_tmp;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    ret = <a class="code" href="group__mlx90632___a_p_i__depends.html#ga26c849ca0c3be8cc2a41e5178e92c1e4">mlx90632_i2c_read</a>(<a class="code" href="group__mlx90632___a_p_i.html#ga8c4bf643c0a7d5b4318a01c391e58a44">MLX90632_RAM_3</a>(18), &amp;read_tmp);</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    *ambient_old_raw = (int16_t)read_tmp;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;}</div><div class="ttc" id="group__mlx90632___a_p_i_html_ga8c4bf643c0a7d5b4318a01c391e58a44"><div class="ttname"><a href="group__mlx90632___a_p_i.html#ga8c4bf643c0a7d5b4318a01c391e58a44">MLX90632_RAM_3</a></div><div class="ttdeci">#define MLX90632_RAM_3(meas_num)</div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00178">mlx90632.h:178</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i__depends_html_ga26c849ca0c3be8cc2a41e5178e92c1e4"><div class="ttname"><a href="group__mlx90632___a_p_i__depends.html#ga26c849ca0c3be8cc2a41e5178e92c1e4">mlx90632_i2c_read</a></div><div class="ttdeci">int32_t mlx90632_i2c_read(int16_t register_address, uint16_t *value)</div><div class="ttdoc">Read the register_address value from the mlx90632. </div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga1d1dd4ea2aae3fe570e783fb04296590"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__mlx90632__private.html#ga10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> int32_t mlx90632_read_temp_object_raw </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>start_measurement_ret</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t *&#160;</td>
          <td class="paramname"><em>object_new_raw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t *&#160;</td>
          <td class="paramname"><em>object_old_raw</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read object raw old and new values based on <a class="el" href="group__mlx90632___a_p_i.html#ga087f6a3bdaceae00ab330aa76dfb5f3a">mlx90632_start_measurement</a> return value. </p>
<p>Four i2c_reads are needed to obtain necessary raw object values from the sensor. These values are grouped per new and old and then averaged before return of the function. After that they are then preprocessed before going to calculation functions. Because one value is newer than other (see <a class="el" href="group__mlx90632___a_p_i.html#ga087f6a3bdaceae00ab330aa76dfb5f3a">mlx90632_start_measurement</a>) this function provides dynamics based on return value of the <a class="el" href="group__mlx90632___a_p_i.html#ga087f6a3bdaceae00ab330aa76dfb5f3a">mlx90632_start_measurement</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">start_measurement_ret</td><td>Return value of <a class="el" href="group__mlx90632___a_p_i.html#ga087f6a3bdaceae00ab330aa76dfb5f3a">mlx90632_start_measurement</a> </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*object_new_raw</td><td>Pointer to memory location where average of new object values from sensor is stored </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*object_old_raw</td><td>Pointer to memory location where average of old object values from sensor is stored</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Successfully read both values </td></tr>
    <tr><td class="paramname">&lt;0</td><td>Something went wrong. Check errno.h for more details. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mlx90632_8c_source.html#l00162">162</a> of file <a class="el" href="mlx90632_8c_source.html">mlx90632.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;{</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    int32_t ret;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    uint16_t read_tmp;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    int16_t read;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    uint8_t channel, channel_old;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    ret = <a class="code" href="group__mlx90632__private.html#gaf62ef0eb4d53be1ed3c131c3b13ae324">mlx90632_channel_new_select</a>(start_measurement_ret, &amp;channel, &amp;channel_old);</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keywordflow">if</span> (ret != 0)</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <span class="keywordflow">return</span> -<a class="code" href="group__mlx90632___a_p_i.html#ga2d1678d5a7cc8ce499643f3b8957def4">EINVAL</a>;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    ret = <a class="code" href="group__mlx90632___a_p_i__depends.html#ga26c849ca0c3be8cc2a41e5178e92c1e4">mlx90632_i2c_read</a>(<a class="code" href="group__mlx90632___a_p_i.html#ga57fa40f154147d582b78c13f8dbd0fa6">MLX90632_RAM_2</a>(channel), &amp;read_tmp);</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    read = (int16_t)read_tmp;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    ret = <a class="code" href="group__mlx90632___a_p_i__depends.html#ga26c849ca0c3be8cc2a41e5178e92c1e4">mlx90632_i2c_read</a>(<a class="code" href="group__mlx90632___a_p_i.html#gae0bbb4692850f4c858528c4e0795e2dc">MLX90632_RAM_1</a>(channel), &amp;read_tmp);</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    *object_new_raw = (read + (int16_t)read_tmp) / 2;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    ret = <a class="code" href="group__mlx90632___a_p_i__depends.html#ga26c849ca0c3be8cc2a41e5178e92c1e4">mlx90632_i2c_read</a>(<a class="code" href="group__mlx90632___a_p_i.html#ga57fa40f154147d582b78c13f8dbd0fa6">MLX90632_RAM_2</a>(channel_old), &amp;read_tmp);</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    read = (int16_t)read_tmp;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    ret = <a class="code" href="group__mlx90632___a_p_i__depends.html#ga26c849ca0c3be8cc2a41e5178e92c1e4">mlx90632_i2c_read</a>(<a class="code" href="group__mlx90632___a_p_i.html#gae0bbb4692850f4c858528c4e0795e2dc">MLX90632_RAM_1</a>(channel_old), &amp;read_tmp);</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    *object_old_raw = (read + (int16_t)read_tmp) / 2;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;}</div><div class="ttc" id="group__mlx90632___a_p_i_html_gae0bbb4692850f4c858528c4e0795e2dc"><div class="ttname"><a href="group__mlx90632___a_p_i.html#gae0bbb4692850f4c858528c4e0795e2dc">MLX90632_RAM_1</a></div><div class="ttdeci">#define MLX90632_RAM_1(meas_num)</div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00176">mlx90632.h:176</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i__depends_html_ga26c849ca0c3be8cc2a41e5178e92c1e4"><div class="ttname"><a href="group__mlx90632___a_p_i__depends.html#ga26c849ca0c3be8cc2a41e5178e92c1e4">mlx90632_i2c_read</a></div><div class="ttdeci">int32_t mlx90632_i2c_read(int16_t register_address, uint16_t *value)</div><div class="ttdoc">Read the register_address value from the mlx90632. </div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_ga57fa40f154147d582b78c13f8dbd0fa6"><div class="ttname"><a href="group__mlx90632___a_p_i.html#ga57fa40f154147d582b78c13f8dbd0fa6">MLX90632_RAM_2</a></div><div class="ttdeci">#define MLX90632_RAM_2(meas_num)</div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00177">mlx90632.h:177</a></div></div>
<div class="ttc" id="group__mlx90632__private_html_gaf62ef0eb4d53be1ed3c131c3b13ae324"><div class="ttname"><a href="group__mlx90632__private.html#gaf62ef0eb4d53be1ed3c131c3b13ae324">mlx90632_channel_new_select</a></div><div class="ttdeci">STATIC int32_t mlx90632_channel_new_select(int32_t ret, uint8_t *channel_new, uint8_t *channel_old)</div><div class="ttdoc">Based on mlx90632_start_measurement return value fill channel_new and channel_old variables with prop...</div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8c_source.html#l00097">mlx90632.c:97</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_ga2d1678d5a7cc8ce499643f3b8957def4"><div class="ttname"><a href="group__mlx90632___a_p_i.html#ga2d1678d5a7cc8ce499643f3b8957def4">EINVAL</a></div><div class="ttdeci">#define EINVAL</div><div class="ttdoc">From linux errno.h. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00049">mlx90632.h:49</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga98b562139318e477472a59ae2709dd87"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__mlx90632__private.html#ga10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> int32_t mlx90632_read_temp_object_raw_extended </td>
          <td>(</td>
          <td class="paramtype">int16_t *&#160;</td>
          <td class="paramname"><em>object_new_raw</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read object raw values for the extended range based on <a class="el" href="group__mlx90632___a_p_i.html#ga087f6a3bdaceae00ab330aa76dfb5f3a">mlx90632_start_measurement</a> return value. </p>
<p>Six i2c_reads are needed to obtain necessary raw object values from the sensor. These values are grouped and then averaged before return of the function. After that they are then preprocessed before going to calculation functions</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">*object_new_raw</td><td>Pointer to memory location where average of new object values from sensor is stored</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Successfully read values </td></tr>
    <tr><td class="paramname">&lt;0</td><td>Something went wrong. Check errno.h for more details. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mlx90632__extended__meas_8c_source.html#l00083">83</a> of file <a class="el" href="mlx90632__extended__meas_8c_source.html">mlx90632_extended_meas.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;{</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    int32_t ret;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    uint16_t read_tmp;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    int32_t read;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    ret = <a class="code" href="group__mlx90632___a_p_i__depends.html#ga26c849ca0c3be8cc2a41e5178e92c1e4">mlx90632_i2c_read</a>(<a class="code" href="group__mlx90632___a_p_i.html#gae0bbb4692850f4c858528c4e0795e2dc">MLX90632_RAM_1</a>(17), &amp;read_tmp);</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    read = (int16_t)read_tmp;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    ret = <a class="code" href="group__mlx90632___a_p_i__depends.html#ga26c849ca0c3be8cc2a41e5178e92c1e4">mlx90632_i2c_read</a>(<a class="code" href="group__mlx90632___a_p_i.html#ga57fa40f154147d582b78c13f8dbd0fa6">MLX90632_RAM_2</a>(17), &amp;read_tmp);</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    read = read - (int16_t)read_tmp;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    ret = <a class="code" href="group__mlx90632___a_p_i__depends.html#ga26c849ca0c3be8cc2a41e5178e92c1e4">mlx90632_i2c_read</a>(<a class="code" href="group__mlx90632___a_p_i.html#gae0bbb4692850f4c858528c4e0795e2dc">MLX90632_RAM_1</a>(18), &amp;read_tmp);</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    read = read - (int16_t)read_tmp;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    ret = <a class="code" href="group__mlx90632___a_p_i__depends.html#ga26c849ca0c3be8cc2a41e5178e92c1e4">mlx90632_i2c_read</a>(<a class="code" href="group__mlx90632___a_p_i.html#ga57fa40f154147d582b78c13f8dbd0fa6">MLX90632_RAM_2</a>(18), &amp;read_tmp);</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    read = (read + (int16_t)read_tmp) / 2;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    ret = <a class="code" href="group__mlx90632___a_p_i__depends.html#ga26c849ca0c3be8cc2a41e5178e92c1e4">mlx90632_i2c_read</a>(<a class="code" href="group__mlx90632___a_p_i.html#gae0bbb4692850f4c858528c4e0795e2dc">MLX90632_RAM_1</a>(19), &amp;read_tmp);</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    read = read + (int16_t)read_tmp;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    ret = <a class="code" href="group__mlx90632___a_p_i__depends.html#ga26c849ca0c3be8cc2a41e5178e92c1e4">mlx90632_i2c_read</a>(<a class="code" href="group__mlx90632___a_p_i.html#ga57fa40f154147d582b78c13f8dbd0fa6">MLX90632_RAM_2</a>(19), &amp;read_tmp);</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    read = read + (int16_t)read_tmp;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keywordflow">if</span> (read &gt; 32767 || read &lt; -32768)</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <span class="keywordflow">return</span> -<a class="code" href="group__mlx90632___a_p_i.html#ga2d1678d5a7cc8ce499643f3b8957def4">EINVAL</a>;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    *object_new_raw = (int16_t)read;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;}</div><div class="ttc" id="group__mlx90632___a_p_i_html_gae0bbb4692850f4c858528c4e0795e2dc"><div class="ttname"><a href="group__mlx90632___a_p_i.html#gae0bbb4692850f4c858528c4e0795e2dc">MLX90632_RAM_1</a></div><div class="ttdeci">#define MLX90632_RAM_1(meas_num)</div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00176">mlx90632.h:176</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i__depends_html_ga26c849ca0c3be8cc2a41e5178e92c1e4"><div class="ttname"><a href="group__mlx90632___a_p_i__depends.html#ga26c849ca0c3be8cc2a41e5178e92c1e4">mlx90632_i2c_read</a></div><div class="ttdeci">int32_t mlx90632_i2c_read(int16_t register_address, uint16_t *value)</div><div class="ttdoc">Read the register_address value from the mlx90632. </div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_ga57fa40f154147d582b78c13f8dbd0fa6"><div class="ttname"><a href="group__mlx90632___a_p_i.html#ga57fa40f154147d582b78c13f8dbd0fa6">MLX90632_RAM_2</a></div><div class="ttdeci">#define MLX90632_RAM_2(meas_num)</div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00177">mlx90632.h:177</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_ga2d1678d5a7cc8ce499643f3b8957def4"><div class="ttname"><a href="group__mlx90632___a_p_i.html#ga2d1678d5a7cc8ce499643f3b8957def4">EINVAL</a></div><div class="ttdeci">#define EINVAL</div><div class="ttdoc">From linux errno.h. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00049">mlx90632.h:49</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga36c61b9d5417e77e415500ab45055053"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t mlx90632_read_temp_raw </td>
          <td>(</td>
          <td class="paramtype">int16_t *&#160;</td>
          <td class="paramname"><em>ambient_new_raw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t *&#160;</td>
          <td class="paramname"><em>ambient_old_raw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t *&#160;</td>
          <td class="paramname"><em>object_new_raw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t *&#160;</td>
          <td class="paramname"><em>object_old_raw</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read raw ambient and object temperature. </p>
<p>Trigger and read raw ambient and object temperatures. This values still need to be pre-processed via <a class="el" href="group__mlx90632___a_p_i.html#ga06bcec82dba1e3d947dbca8203ca7e43">mlx90632_preprocess_temp_ambient</a> and <a class="el" href="group__mlx90632___a_p_i.html#gaca7c5dd5a81d4e98de37195023bec370">mlx90632_preprocess_temp_object</a> functions and then processed via <a class="el" href="group__mlx90632___a_p_i.html#ga7939b85a05b6d8899c0d793b37388a0d">mlx90632_calc_temp_ambient</a> and <a class="el" href="group__mlx90632___a_p_i.html#gadaa9b8a1b74083aeee178f313fbad260">mlx90632_calc_temp_object</a> to retrieve values in milliCelsius</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">ambient_new_raw</td><td>Pointer to where new raw ambient temperature is written </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">object_new_raw</td><td>Pointer to where new raw object temperature is written </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ambient_old_raw</td><td>Pointer to where old raw ambient temperature is written </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">object_old_raw</td><td>Pointer to where old raw object temperature is written</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Successfully read both temperatures </td></tr>
    <tr><td class="paramname">&lt;0</td><td>Something went wrong. Check errno.h for more details </td></tr>
  </table>
  </dd>
</dl>
<p>Read new and old <b>ambient</b> values from sensor</p>
<p>Read new and old <b>object</b> values from sensor </p>

<p>Definition at line <a class="el" href="mlx90632_8c_source.html#l00198">198</a> of file <a class="el" href="mlx90632_8c_source.html">mlx90632.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;{</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    int32_t ret, start_measurement_ret;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="comment">// trigger and wait for measurement to complete</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    start_measurement_ret = <a class="code" href="group__mlx90632__private.html#ga087f6a3bdaceae00ab330aa76dfb5f3a">mlx90632_start_measurement</a>();</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordflow">if</span> (start_measurement_ret &lt; 0)</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <span class="keywordflow">return</span> start_measurement_ret;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    ret = <a class="code" href="group__mlx90632__private.html#ga0d807560e3efcd83e1a12b569a6876b0">mlx90632_read_temp_ambient_raw</a>(ambient_new_raw, ambient_old_raw);</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    ret = <a class="code" href="group__mlx90632__private.html#ga1d1dd4ea2aae3fe570e783fb04296590">mlx90632_read_temp_object_raw</a>(start_measurement_ret, object_new_raw, object_old_raw);</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;}</div><div class="ttc" id="group__mlx90632__private_html_ga0d807560e3efcd83e1a12b569a6876b0"><div class="ttname"><a href="group__mlx90632__private.html#ga0d807560e3efcd83e1a12b569a6876b0">mlx90632_read_temp_ambient_raw</a></div><div class="ttdeci">STATIC int32_t mlx90632_read_temp_ambient_raw(int16_t *ambient_new_raw, int16_t *ambient_old_raw)</div><div class="ttdoc">Read ambient raw old and new values based on mlx90632_start_measurement return value. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8c_source.html#l00130">mlx90632.c:130</a></div></div>
<div class="ttc" id="group__mlx90632__private_html_ga087f6a3bdaceae00ab330aa76dfb5f3a"><div class="ttname"><a href="group__mlx90632__private.html#ga087f6a3bdaceae00ab330aa76dfb5f3a">mlx90632_start_measurement</a></div><div class="ttdeci">int mlx90632_start_measurement(void)</div><div class="ttdoc">Trigger start measurement for mlx90632. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8c_source.html#l00047">mlx90632.c:47</a></div></div>
<div class="ttc" id="group__mlx90632__private_html_ga1d1dd4ea2aae3fe570e783fb04296590"><div class="ttname"><a href="group__mlx90632__private.html#ga1d1dd4ea2aae3fe570e783fb04296590">mlx90632_read_temp_object_raw</a></div><div class="ttdeci">STATIC int32_t mlx90632_read_temp_object_raw(int32_t start_measurement_ret, int16_t *object_new_raw, int16_t *object_old_raw)</div><div class="ttdoc">Read object raw old and new values based on mlx90632_start_measurement return value. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8c_source.html#l00162">mlx90632.c:162</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga0bf069f7f2cdf82a7a8c86ea22c343f2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t mlx90632_read_temp_raw_burst </td>
          <td>(</td>
          <td class="paramtype">int16_t *&#160;</td>
          <td class="paramname"><em>ambient_new_raw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t *&#160;</td>
          <td class="paramname"><em>ambient_old_raw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t *&#160;</td>
          <td class="paramname"><em>object_new_raw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t *&#160;</td>
          <td class="paramname"><em>object_old_raw</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read raw ambient and object temperature in sleeping step mode. </p>
<p>Trigger and read raw ambient and object temperatures. This values still need to be pre-processed via <a class="el" href="group__mlx90632___a_p_i.html#ga06bcec82dba1e3d947dbca8203ca7e43">mlx90632_preprocess_temp_ambient</a> and <a class="el" href="group__mlx90632___a_p_i.html#gaca7c5dd5a81d4e98de37195023bec370">mlx90632_preprocess_temp_object</a> functions and then processed via <a class="el" href="group__mlx90632___a_p_i.html#ga7939b85a05b6d8899c0d793b37388a0d">mlx90632_calc_temp_ambient</a> and <a class="el" href="group__mlx90632___a_p_i.html#gadaa9b8a1b74083aeee178f313fbad260">mlx90632_calc_temp_object</a> to retrieve values in milliCelsius</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">ambient_new_raw</td><td>Pointer to where new raw ambient temperature is written </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">object_new_raw</td><td>Pointer to where new raw object temperature is written </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ambient_old_raw</td><td>Pointer to where old raw ambient temperature is written </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">object_old_raw</td><td>Pointer to where old raw object temperature is written</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Successfully read both temperatures </td></tr>
    <tr><td class="paramname">&lt;0</td><td>Something went wrong. Check errno.h for more details </td></tr>
  </table>
  </dd>
</dl>
<p>Read new and old <b>ambient</b> values from sensor</p>
<p>Read new and old <b>object</b> values from sensor </p>

<p>Definition at line <a class="el" href="mlx90632_8c_source.html#l00219">219</a> of file <a class="el" href="mlx90632_8c_source.html">mlx90632.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;{</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    int32_t ret, start_measurement_ret;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="comment">// trigger and wait for measurement to complete</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    start_measurement_ret = <a class="code" href="group__mlx90632__private.html#ga1cf68ccbba3a8f5da558e1b2e7933311">mlx90632_start_measurement_burst</a>();</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keywordflow">if</span> (start_measurement_ret &lt; 0)</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <span class="keywordflow">return</span> start_measurement_ret;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    ret = <a class="code" href="group__mlx90632__private.html#ga0d807560e3efcd83e1a12b569a6876b0">mlx90632_read_temp_ambient_raw</a>(ambient_new_raw, ambient_old_raw);</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    ret = <a class="code" href="group__mlx90632__private.html#ga1d1dd4ea2aae3fe570e783fb04296590">mlx90632_read_temp_object_raw</a>(2, object_new_raw, object_old_raw);</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;}</div><div class="ttc" id="group__mlx90632__private_html_ga1cf68ccbba3a8f5da558e1b2e7933311"><div class="ttname"><a href="group__mlx90632__private.html#ga1cf68ccbba3a8f5da558e1b2e7933311">mlx90632_start_measurement_burst</a></div><div class="ttdeci">int32_t mlx90632_start_measurement_burst(void)</div><div class="ttdoc">Trigger start of burst measurement for mlx90632. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8c_source.html#l00553">mlx90632.c:553</a></div></div>
<div class="ttc" id="group__mlx90632__private_html_ga0d807560e3efcd83e1a12b569a6876b0"><div class="ttname"><a href="group__mlx90632__private.html#ga0d807560e3efcd83e1a12b569a6876b0">mlx90632_read_temp_ambient_raw</a></div><div class="ttdeci">STATIC int32_t mlx90632_read_temp_ambient_raw(int16_t *ambient_new_raw, int16_t *ambient_old_raw)</div><div class="ttdoc">Read ambient raw old and new values based on mlx90632_start_measurement return value. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8c_source.html#l00130">mlx90632.c:130</a></div></div>
<div class="ttc" id="group__mlx90632__private_html_ga1d1dd4ea2aae3fe570e783fb04296590"><div class="ttname"><a href="group__mlx90632__private.html#ga1d1dd4ea2aae3fe570e783fb04296590">mlx90632_read_temp_object_raw</a></div><div class="ttdeci">STATIC int32_t mlx90632_read_temp_object_raw(int32_t start_measurement_ret, int16_t *object_new_raw, int16_t *object_old_raw)</div><div class="ttdoc">Read object raw old and new values based on mlx90632_start_measurement return value. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8c_source.html#l00162">mlx90632.c:162</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga7afac5b0dd3ab9fc6ba56250dc15be7c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t mlx90632_read_temp_raw_extended </td>
          <td>(</td>
          <td class="paramtype">int16_t *&#160;</td>
          <td class="paramname"><em>ambient_new_raw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t *&#160;</td>
          <td class="paramname"><em>ambient_old_raw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t *&#160;</td>
          <td class="paramname"><em>object_new_raw</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read raw ambient and object temperature for extended range. </p>
<p>Trigger and read raw ambient and object temperatures. This values still need to be pre-processed via <a class="el" href="group__mlx90632__private.html#gad58d82a926d926d1ecfc71a620c8e5ea">mlx90632_preprocess_temp_ambient_extended</a> and <a class="el" href="group__mlx90632__private.html#ga5de4bbb784eaefbe7d8e795756e70ddd">mlx90632_preprocess_temp_object_extended</a> functions and then processed via <a class="el" href="group__mlx90632__private.html#ga1e7fc75e6ac87adf93202df41bc9470f">mlx90632_calc_temp_ambient_extended</a> and <a class="el" href="group__mlx90632__private.html#ga20e35c5345ba0a03eda4a3a6e86ecde8">mlx90632_calc_temp_object_extended</a> to retrieve values in milliCelsius</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">ambient_new_raw</td><td>Pointer to where new raw ambient temperature is written </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">object_new_raw</td><td>Pointer to where new raw object temperature is written </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ambient_old_raw</td><td>Pointer to where old raw ambient temperature is written </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">object_old_raw</td><td>Pointer to where old raw object temperature is written</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Successfully read both temperatures </td></tr>
    <tr><td class="paramname">&lt;0</td><td>Something went wrong. Check errno.h for more details </td></tr>
  </table>
  </dd>
</dl>
<p>Read new and old <b>ambient</b> values from sensor</p>
<p>Read new <b>object</b> value from sensor </p>

<p>Definition at line <a class="el" href="mlx90632__extended__meas_8c_source.html#l00133">133</a> of file <a class="el" href="mlx90632__extended__meas_8c_source.html">mlx90632_extended_meas.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;{</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    int32_t ret, start_measurement_ret;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordtype">int</span> tries = 3;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="comment">// trigger and wait for measurement to complete</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordflow">while</span> (tries-- &gt; 0)</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    {</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        start_measurement_ret = <a class="code" href="group__mlx90632__private.html#ga087f6a3bdaceae00ab330aa76dfb5f3a">mlx90632_start_measurement</a>();</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <span class="keywordflow">if</span> (start_measurement_ret &lt; 0)</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;            <span class="keywordflow">return</span> start_measurement_ret;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <span class="keywordflow">if</span> (start_measurement_ret == 19)</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    }</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordflow">if</span> (tries &lt; 0)</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    {</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        <span class="comment">// data not ready</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <span class="keywordflow">return</span> -<a class="code" href="group__mlx90632___a_p_i.html#ga597718e59a8fc9c4d4ab63f5a34e28b1">ETIMEDOUT</a>;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    }</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    ret = <a class="code" href="group__mlx90632__private.html#ga50c12ec860889b49023df96ef51e4daf">mlx90632_read_temp_ambient_raw_extended</a>(ambient_new_raw, ambient_old_raw);</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    ret = <a class="code" href="group__mlx90632__private.html#ga98b562139318e477472a59ae2709dd87">mlx90632_read_temp_object_raw_extended</a>(object_new_raw);</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;}</div><div class="ttc" id="group__mlx90632__private_html_ga98b562139318e477472a59ae2709dd87"><div class="ttname"><a href="group__mlx90632__private.html#ga98b562139318e477472a59ae2709dd87">mlx90632_read_temp_object_raw_extended</a></div><div class="ttdeci">STATIC int32_t mlx90632_read_temp_object_raw_extended(int16_t *object_new_raw)</div><div class="ttdoc">Read object raw values for the extended range based on mlx90632_start_measurement return value...</div><div class="ttdef"><b>Definition:</b> <a href="mlx90632__extended__meas_8c_source.html#l00083">mlx90632_extended_meas.c:83</a></div></div>
<div class="ttc" id="group__mlx90632__private_html_ga50c12ec860889b49023df96ef51e4daf"><div class="ttname"><a href="group__mlx90632__private.html#ga50c12ec860889b49023df96ef51e4daf">mlx90632_read_temp_ambient_raw_extended</a></div><div class="ttdeci">STATIC int32_t mlx90632_read_temp_ambient_raw_extended(int16_t *ambient_new_raw, int16_t *ambient_old_raw)</div><div class="ttdoc">Read ambient raw old and new values for the extended range based on mlx90632_start_measurement return...</div><div class="ttdef"><b>Definition:</b> <a href="mlx90632__extended__meas_8c_source.html#l00054">mlx90632_extended_meas.c:54</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_ga597718e59a8fc9c4d4ab63f5a34e28b1"><div class="ttname"><a href="group__mlx90632___a_p_i.html#ga597718e59a8fc9c4d4ab63f5a34e28b1">ETIMEDOUT</a></div><div class="ttdeci">#define ETIMEDOUT</div><div class="ttdoc">From linux errno.h. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00046">mlx90632.h:46</a></div></div>
<div class="ttc" id="group__mlx90632__private_html_ga087f6a3bdaceae00ab330aa76dfb5f3a"><div class="ttname"><a href="group__mlx90632__private.html#ga087f6a3bdaceae00ab330aa76dfb5f3a">mlx90632_start_measurement</a></div><div class="ttdeci">int mlx90632_start_measurement(void)</div><div class="ttdoc">Trigger start measurement for mlx90632. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8c_source.html#l00047">mlx90632.c:47</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga793a0b8991eda8a36cde8a5c9f35a175"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t mlx90632_read_temp_raw_extended_burst </td>
          <td>(</td>
          <td class="paramtype">int16_t *&#160;</td>
          <td class="paramname"><em>ambient_new_raw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t *&#160;</td>
          <td class="paramname"><em>ambient_old_raw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t *&#160;</td>
          <td class="paramname"><em>object_new_raw</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read raw ambient and object temperature for extended range sleeping step mode. </p>
<p>Trigger and read raw ambient and object temperatures. This values still need to be pre-processed via <a class="el" href="group__mlx90632__private.html#gad58d82a926d926d1ecfc71a620c8e5ea">mlx90632_preprocess_temp_ambient_extended</a> and <a class="el" href="group__mlx90632__private.html#ga5de4bbb784eaefbe7d8e795756e70ddd">mlx90632_preprocess_temp_object_extended</a> functions and then processed via <a class="el" href="group__mlx90632__private.html#ga1e7fc75e6ac87adf93202df41bc9470f">mlx90632_calc_temp_ambient_extended</a> and <a class="el" href="group__mlx90632__private.html#ga20e35c5345ba0a03eda4a3a6e86ecde8">mlx90632_calc_temp_object_extended</a> to retrieve values in milliCelsius</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">ambient_new_raw</td><td>Pointer to where new raw ambient temperature is written </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">object_new_raw</td><td>Pointer to where new raw object temperature is written </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ambient_old_raw</td><td>Pointer to where old raw ambient temperature is written </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">object_old_raw</td><td>Pointer to where old raw object temperature is written</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Successfully read both temperatures </td></tr>
    <tr><td class="paramname">&lt;0</td><td>Something went wrong. Check errno.h for more details </td></tr>
  </table>
  </dd>
</dl>
<p>Read new and old <b>ambient</b> values from sensor</p>
<p>Read new <b>object</b> value from sensor </p>

<p>Definition at line <a class="el" href="mlx90632__extended__meas_8c_source.html#l00166">166</a> of file <a class="el" href="mlx90632__extended__meas_8c_source.html">mlx90632_extended_meas.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;{</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    int32_t ret, start_measurement_ret;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="comment">// trigger and wait for measurement to complete</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    start_measurement_ret = <a class="code" href="group__mlx90632__private.html#ga1cf68ccbba3a8f5da558e1b2e7933311">mlx90632_start_measurement_burst</a>();</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="keywordflow">if</span> (start_measurement_ret &lt; 0)</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        <span class="keywordflow">return</span> start_measurement_ret;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    ret = <a class="code" href="group__mlx90632__private.html#ga50c12ec860889b49023df96ef51e4daf">mlx90632_read_temp_ambient_raw_extended</a>(ambient_new_raw, ambient_old_raw);</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    ret = <a class="code" href="group__mlx90632__private.html#ga98b562139318e477472a59ae2709dd87">mlx90632_read_temp_object_raw_extended</a>(object_new_raw);</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;}</div><div class="ttc" id="group__mlx90632__private_html_ga1cf68ccbba3a8f5da558e1b2e7933311"><div class="ttname"><a href="group__mlx90632__private.html#ga1cf68ccbba3a8f5da558e1b2e7933311">mlx90632_start_measurement_burst</a></div><div class="ttdeci">int32_t mlx90632_start_measurement_burst(void)</div><div class="ttdoc">Trigger start of burst measurement for mlx90632. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8c_source.html#l00553">mlx90632.c:553</a></div></div>
<div class="ttc" id="group__mlx90632__private_html_ga98b562139318e477472a59ae2709dd87"><div class="ttname"><a href="group__mlx90632__private.html#ga98b562139318e477472a59ae2709dd87">mlx90632_read_temp_object_raw_extended</a></div><div class="ttdeci">STATIC int32_t mlx90632_read_temp_object_raw_extended(int16_t *object_new_raw)</div><div class="ttdoc">Read object raw values for the extended range based on mlx90632_start_measurement return value...</div><div class="ttdef"><b>Definition:</b> <a href="mlx90632__extended__meas_8c_source.html#l00083">mlx90632_extended_meas.c:83</a></div></div>
<div class="ttc" id="group__mlx90632__private_html_ga50c12ec860889b49023df96ef51e4daf"><div class="ttname"><a href="group__mlx90632__private.html#ga50c12ec860889b49023df96ef51e4daf">mlx90632_read_temp_ambient_raw_extended</a></div><div class="ttdeci">STATIC int32_t mlx90632_read_temp_ambient_raw_extended(int16_t *ambient_new_raw, int16_t *ambient_old_raw)</div><div class="ttdoc">Read ambient raw old and new values for the extended range based on mlx90632_start_measurement return...</div><div class="ttdef"><b>Definition:</b> <a href="mlx90632__extended__meas_8c_source.html#l00054">mlx90632_extended_meas.c:54</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga6990b56cba8dd4e6f9508ae075b30be0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mlx90632_set_emissivity </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set emissivity which is retained in single variable. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>Value provided by user of object emissivity. Defaults to 1.0 and cannot be 0.0.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>This is not suitable for multi-process calculations as we do not use instances </dd></dl>

<p>Definition at line <a class="el" href="mlx90632_8c_source.html#l00372">372</a> of file <a class="el" href="mlx90632_8c_source.html">mlx90632.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;{</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <a class="code" href="group__mlx90632__private.html#ga550830179421e5b049ab66072426fa4f">emissivity</a> = value;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;}</div><div class="ttc" id="group__mlx90632__private_html_ga550830179421e5b049ab66072426fa4f"><div class="ttname"><a href="group__mlx90632__private.html#ga550830179421e5b049ab66072426fa4f">emissivity</a></div><div class="ttdeci">static double emissivity</div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8c_source.html#l00371">mlx90632.c:371</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gaac87fbb67b7475698ccabe2a80be39cf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t mlx90632_set_meas_type </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Switch the measurement type of the MLX90632. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>measurement type to switch to</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>the available types are defined as <a class="el" href="group__mlx90632___a_p_i.html#ga1382cfe6e5f6a03279191c35b8a4894e">MLX90632_MTYP_MEDICAL</a> and <a class="el" href="group__mlx90632___a_p_i.html#ga5f505008252f84f91692bffbe492b3fe">MLX90632_MTYP_EXTENDED</a></dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Successfully swithed the meausurement mode </td></tr>
    <tr><td class="paramname">&lt;0</td><td>Something went wrong. Check errno.h for more details </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mlx90632__extended__meas_8c_source.html#l00299">299</a> of file <a class="el" href="mlx90632__extended__meas_8c_source.html">mlx90632_extended_meas.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;{</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    int32_t ret;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    uint16_t reg_ctrl;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordflow">if</span> ((type != <a class="code" href="group__mlx90632___a_p_i.html#ga1382cfe6e5f6a03279191c35b8a4894e">MLX90632_MTYP_MEDICAL</a>) &amp; (type != <a class="code" href="group__mlx90632___a_p_i.html#ga5f505008252f84f91692bffbe492b3fe">MLX90632_MTYP_EXTENDED</a>) &amp; (type != <a class="code" href="group__mlx90632___a_p_i.html#gaebc2eba08cf6cfa4c649ef8022230d10">MLX90632_MTYP_MEDICAL_BURST</a>) &amp; (type != <a class="code" href="group__mlx90632___a_p_i.html#gadec7fe0fc55ec3c37fe2747accc0cab2">MLX90632_MTYP_EXTENDED_BURST</a>))</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        <span class="keywordflow">return</span> -<a class="code" href="group__mlx90632___a_p_i.html#ga2d1678d5a7cc8ce499643f3b8957def4">EINVAL</a>;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    ret = <a class="code" href="group__mlx90632__private.html#ga31d678c2a72305b66912cb190f244ec8">mlx90632_addressed_reset</a>();</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    ret = <a class="code" href="group__mlx90632___a_p_i__depends.html#ga26c849ca0c3be8cc2a41e5178e92c1e4">mlx90632_i2c_read</a>(<a class="code" href="group__mlx90632___a_p_i.html#ga27ae349c04b6e114bcab5014269ce520">MLX90632_REG_CTRL</a>, &amp;reg_ctrl);</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    reg_ctrl = reg_ctrl &amp; (~<a class="code" href="group__mlx90632___a_p_i.html#ga70b39df93d6c01286d2259b1494e6e96">MLX90632_CFG_MTYP_MASK</a> &amp; ~<a class="code" href="group__mlx90632___a_p_i.html#ga3679a702c0aaf6c1bbb8114af511dac0">MLX90632_CFG_PWR_MASK</a>);</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    reg_ctrl |= (<a class="code" href="group__mlx90632___a_p_i.html#gaf0856814e526d2c1dcd7de367b65c15b">MLX90632_MTYP_STATUS</a>(<a class="code" href="group__mlx90632___a_p_i.html#ga83c2604c880ad0de8ef9201170bc6f89">MLX90632_MEASUREMENT_TYPE_STATUS</a>(type)) | <a class="code" href="group__mlx90632___a_p_i.html#gae3a187a8ec5a2bc7b859e30ee6d7e1ba">MLX90632_PWR_STATUS_HALT</a>);</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    ret = <a class="code" href="group__mlx90632___a_p_i__depends.html#gadd4725baf2ab7fbdce469ded4f9a88b1">mlx90632_i2c_write</a>(<a class="code" href="group__mlx90632___a_p_i.html#ga27ae349c04b6e114bcab5014269ce520">MLX90632_REG_CTRL</a>, reg_ctrl);</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    ret = <a class="code" href="group__mlx90632___a_p_i__depends.html#ga26c849ca0c3be8cc2a41e5178e92c1e4">mlx90632_i2c_read</a>(<a class="code" href="group__mlx90632___a_p_i.html#ga27ae349c04b6e114bcab5014269ce520">MLX90632_REG_CTRL</a>, &amp;reg_ctrl);</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    reg_ctrl = reg_ctrl &amp; ~<a class="code" href="group__mlx90632___a_p_i.html#ga3679a702c0aaf6c1bbb8114af511dac0">MLX90632_CFG_PWR_MASK</a>;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__mlx90632___a_p_i.html#ga121c4e6caf68ae51b353bec06c1a159e">MLX90632_MEASUREMENT_BURST_STATUS</a>(type))</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    {</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        reg_ctrl |= <a class="code" href="group__mlx90632___a_p_i.html#ga1a8b129b0eca4706468b2c7292362e7b">MLX90632_PWR_STATUS_SLEEP_STEP</a>;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    }</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    {</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        reg_ctrl |= <a class="code" href="group__mlx90632___a_p_i.html#ga757652e077eae54f7f9bd8906c34025d">MLX90632_PWR_STATUS_CONTINUOUS</a>;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    }</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    ret = <a class="code" href="group__mlx90632___a_p_i__depends.html#gadd4725baf2ab7fbdce469ded4f9a88b1">mlx90632_i2c_write</a>(<a class="code" href="group__mlx90632___a_p_i.html#ga27ae349c04b6e114bcab5014269ce520">MLX90632_REG_CTRL</a>, reg_ctrl);</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;}</div><div class="ttc" id="group__mlx90632___a_p_i_html_ga83c2604c880ad0de8ef9201170bc6f89"><div class="ttname"><a href="group__mlx90632___a_p_i.html#ga83c2604c880ad0de8ef9201170bc6f89">MLX90632_MEASUREMENT_TYPE_STATUS</a></div><div class="ttdeci">#define MLX90632_MEASUREMENT_TYPE_STATUS(mtyp_type)</div><div class="ttdoc">Extract the measurement type from MTYP. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00201">mlx90632.h:201</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i__depends_html_ga26c849ca0c3be8cc2a41e5178e92c1e4"><div class="ttname"><a href="group__mlx90632___a_p_i__depends.html#ga26c849ca0c3be8cc2a41e5178e92c1e4">mlx90632_i2c_read</a></div><div class="ttdeci">int32_t mlx90632_i2c_read(int16_t register_address, uint16_t *value)</div><div class="ttdoc">Read the register_address value from the mlx90632. </div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_gaebc2eba08cf6cfa4c649ef8022230d10"><div class="ttname"><a href="group__mlx90632___a_p_i.html#gaebc2eba08cf6cfa4c649ef8022230d10">MLX90632_MTYP_MEDICAL_BURST</a></div><div class="ttdeci">#define MLX90632_MTYP_MEDICAL_BURST</div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00197">mlx90632.h:197</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_ga70b39df93d6c01286d2259b1494e6e96"><div class="ttname"><a href="group__mlx90632___a_p_i.html#ga70b39df93d6c01286d2259b1494e6e96">MLX90632_CFG_MTYP_MASK</a></div><div class="ttdeci">#define MLX90632_CFG_MTYP_MASK</div><div class="ttdoc">Meas select Mask. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00146">mlx90632.h:146</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_ga121c4e6caf68ae51b353bec06c1a159e"><div class="ttname"><a href="group__mlx90632___a_p_i.html#ga121c4e6caf68ae51b353bec06c1a159e">MLX90632_MEASUREMENT_BURST_STATUS</a></div><div class="ttdeci">#define MLX90632_MEASUREMENT_BURST_STATUS(mtyp_type)</div><div class="ttdoc">Extract the measurement burst/continuous type from MTYP. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00202">mlx90632.h:202</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_ga1a8b129b0eca4706468b2c7292362e7b"><div class="ttname"><a href="group__mlx90632___a_p_i.html#ga1a8b129b0eca4706468b2c7292362e7b">MLX90632_PWR_STATUS_SLEEP_STEP</a></div><div class="ttdeci">#define MLX90632_PWR_STATUS_SLEEP_STEP</div><div class="ttdoc">Pwrmode sleep step. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00155">mlx90632.h:155</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_ga1382cfe6e5f6a03279191c35b8a4894e"><div class="ttname"><a href="group__mlx90632___a_p_i.html#ga1382cfe6e5f6a03279191c35b8a4894e">MLX90632_MTYP_MEDICAL</a></div><div class="ttdeci">#define MLX90632_MTYP_MEDICAL</div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00195">mlx90632.h:195</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_ga5f505008252f84f91692bffbe492b3fe"><div class="ttname"><a href="group__mlx90632___a_p_i.html#ga5f505008252f84f91692bffbe492b3fe">MLX90632_MTYP_EXTENDED</a></div><div class="ttdeci">#define MLX90632_MTYP_EXTENDED</div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00196">mlx90632.h:196</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_gadec7fe0fc55ec3c37fe2747accc0cab2"><div class="ttname"><a href="group__mlx90632___a_p_i.html#gadec7fe0fc55ec3c37fe2747accc0cab2">MLX90632_MTYP_EXTENDED_BURST</a></div><div class="ttdeci">#define MLX90632_MTYP_EXTENDED_BURST</div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00198">mlx90632.h:198</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i__depends_html_gadd4725baf2ab7fbdce469ded4f9a88b1"><div class="ttname"><a href="group__mlx90632___a_p_i__depends.html#gadd4725baf2ab7fbdce469ded4f9a88b1">mlx90632_i2c_write</a></div><div class="ttdeci">int32_t mlx90632_i2c_write(int16_t register_address, uint16_t value)</div><div class="ttdoc">Write value to register_address of the mlx90632. </div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_gae3a187a8ec5a2bc7b859e30ee6d7e1ba"><div class="ttname"><a href="group__mlx90632___a_p_i.html#gae3a187a8ec5a2bc7b859e30ee6d7e1ba">MLX90632_PWR_STATUS_HALT</a></div><div class="ttdeci">#define MLX90632_PWR_STATUS_HALT</div><div class="ttdoc">Pwrmode hold. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00154">mlx90632.h:154</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_gaf0856814e526d2c1dcd7de367b65c15b"><div class="ttname"><a href="group__mlx90632___a_p_i.html#gaf0856814e526d2c1dcd7de367b65c15b">MLX90632_MTYP_STATUS</a></div><div class="ttdeci">#define MLX90632_MTYP_STATUS(ctrl_val)</div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00159">mlx90632.h:159</a></div></div>
<div class="ttc" id="group__mlx90632__private_html_ga31d678c2a72305b66912cb190f244ec8"><div class="ttname"><a href="group__mlx90632__private.html#ga31d678c2a72305b66912cb190f244ec8">mlx90632_addressed_reset</a></div><div class="ttdeci">int32_t mlx90632_addressed_reset(void)</div><div class="ttdoc">Trigger system reset for mlx90632. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8c_source.html#l00475">mlx90632.c:475</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_ga757652e077eae54f7f9bd8906c34025d"><div class="ttname"><a href="group__mlx90632___a_p_i.html#ga757652e077eae54f7f9bd8906c34025d">MLX90632_PWR_STATUS_CONTINUOUS</a></div><div class="ttdeci">#define MLX90632_PWR_STATUS_CONTINUOUS</div><div class="ttdoc">Pwrmode continuous. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00157">mlx90632.h:157</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_ga2d1678d5a7cc8ce499643f3b8957def4"><div class="ttname"><a href="group__mlx90632___a_p_i.html#ga2d1678d5a7cc8ce499643f3b8957def4">EINVAL</a></div><div class="ttdeci">#define EINVAL</div><div class="ttdoc">From linux errno.h. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00049">mlx90632.h:49</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_ga3679a702c0aaf6c1bbb8114af511dac0"><div class="ttname"><a href="group__mlx90632___a_p_i.html#ga3679a702c0aaf6c1bbb8114af511dac0">MLX90632_CFG_PWR_MASK</a></div><div class="ttdeci">#define MLX90632_CFG_PWR_MASK</div><div class="ttdoc">PowerMode Mask. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00143">mlx90632.h:143</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_ga27ae349c04b6e114bcab5014269ce520"><div class="ttname"><a href="group__mlx90632___a_p_i.html#ga27ae349c04b6e114bcab5014269ce520">MLX90632_REG_CTRL</a></div><div class="ttdeci">#define MLX90632_REG_CTRL</div><div class="ttdoc">Control Register address. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00140">mlx90632.h:140</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gaf5da7e5427318d02caae74b3592083a2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t mlx90632_set_refresh_rate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__mlx90632___a_p_i.html#ga543d4e05716ffc64bb321a4e146e2cc3">mlx90632_meas_t</a>&#160;</td>
          <td class="paramname"><em>measRate</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the refresh rate of the sensor using the MLX90632_EE_MEAS_1 and MLX90632_EE_MEAS_2 registers. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">measRate</td><td>refresh rate to set with <a class="el" href="group__mlx90632___a_p_i.html#ga3122aed10aa79d44a31aa5305dec51f8">mlx90632_meas_e</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">&lt;0</td><td>Something went wrong. Consult errno.h for more details. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mlx90632_8c_source.html#l00650">650</a> of file <a class="el" href="mlx90632_8c_source.html">mlx90632.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;{</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    uint16_t meas1, meas2;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    int32_t ret = <a class="code" href="group__mlx90632___a_p_i__depends.html#ga26c849ca0c3be8cc2a41e5178e92c1e4">mlx90632_i2c_read</a>(<a class="code" href="group__mlx90632___a_p_i.html#ga69cfb1041a1cbd20e3057a8b8cd86053">MLX90632_EE_MEDICAL_MEAS1</a>, &amp;meas1);</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    uint16_t new_value = <a class="code" href="group__mlx90632___a_p_i.html#ga9adf34a82ef7bd354b22314c405a07b8">MLX90632_NEW_REG_VALUE</a>(meas1, measRate, <a class="code" href="group__mlx90632___a_p_i.html#gaebe4dbe9cae5f821f9783764276a7e4e">MLX90632_EE_REFRESH_RATE_START</a>, <a class="code" href="group__mlx90632___a_p_i.html#gafa91d74bb142f52855bf6527e4910f20">MLX90632_EE_REFRESH_RATE_SHIFT</a>);</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <span class="keywordflow">if</span> (meas1 != new_value)</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    {</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;        ret = <a class="code" href="group__mlx90632__private.html#ga3a5bef99b4aeacee4207adf74535d84d">mlx90632_write_eeprom</a>(<a class="code" href="group__mlx90632___a_p_i.html#ga69cfb1041a1cbd20e3057a8b8cd86053">MLX90632_EE_MEDICAL_MEAS1</a>, new_value);</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;            <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    }</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    ret = <a class="code" href="group__mlx90632___a_p_i__depends.html#ga26c849ca0c3be8cc2a41e5178e92c1e4">mlx90632_i2c_read</a>(<a class="code" href="group__mlx90632___a_p_i.html#gaac6ce2743ff98a5e62702e50231a5213">MLX90632_EE_MEDICAL_MEAS2</a>, &amp;meas2);</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    new_value = <a class="code" href="group__mlx90632___a_p_i.html#ga9adf34a82ef7bd354b22314c405a07b8">MLX90632_NEW_REG_VALUE</a>(meas2, measRate, <a class="code" href="group__mlx90632___a_p_i.html#gaebe4dbe9cae5f821f9783764276a7e4e">MLX90632_EE_REFRESH_RATE_START</a>, <a class="code" href="group__mlx90632___a_p_i.html#gafa91d74bb142f52855bf6527e4910f20">MLX90632_EE_REFRESH_RATE_SHIFT</a>);</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    <span class="keywordflow">if</span> (meas2 != new_value)</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    {</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        ret = <a class="code" href="group__mlx90632__private.html#ga3a5bef99b4aeacee4207adf74535d84d">mlx90632_write_eeprom</a>(<a class="code" href="group__mlx90632___a_p_i.html#gaac6ce2743ff98a5e62702e50231a5213">MLX90632_EE_MEDICAL_MEAS2</a>, new_value);</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    }</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;}</div><div class="ttc" id="group__mlx90632___a_p_i__depends_html_ga26c849ca0c3be8cc2a41e5178e92c1e4"><div class="ttname"><a href="group__mlx90632___a_p_i__depends.html#ga26c849ca0c3be8cc2a41e5178e92c1e4">mlx90632_i2c_read</a></div><div class="ttdeci">int32_t mlx90632_i2c_read(int16_t register_address, uint16_t *value)</div><div class="ttdoc">Read the register_address value from the mlx90632. </div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_gaac6ce2743ff98a5e62702e50231a5213"><div class="ttname"><a href="group__mlx90632___a_p_i.html#gaac6ce2743ff98a5e62702e50231a5213">MLX90632_EE_MEDICAL_MEAS2</a></div><div class="ttdeci">#define MLX90632_EE_MEDICAL_MEAS2</div><div class="ttdoc">Medical measurement 2 16bit. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00112">mlx90632.h:112</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_ga9adf34a82ef7bd354b22314c405a07b8"><div class="ttname"><a href="group__mlx90632___a_p_i.html#ga9adf34a82ef7bd354b22314c405a07b8">MLX90632_NEW_REG_VALUE</a></div><div class="ttdeci">#define MLX90632_NEW_REG_VALUE(old_reg, new_value, h, l)</div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00210">mlx90632.h:210</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_ga69cfb1041a1cbd20e3057a8b8cd86053"><div class="ttname"><a href="group__mlx90632___a_p_i.html#ga69cfb1041a1cbd20e3057a8b8cd86053">MLX90632_EE_MEDICAL_MEAS1</a></div><div class="ttdeci">#define MLX90632_EE_MEDICAL_MEAS1</div><div class="ttdoc">Medical measurement 1 16bit. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00111">mlx90632.h:111</a></div></div>
<div class="ttc" id="group__mlx90632__private_html_ga3a5bef99b4aeacee4207adf74535d84d"><div class="ttname"><a href="group__mlx90632__private.html#ga3a5bef99b4aeacee4207adf74535d84d">mlx90632_write_eeprom</a></div><div class="ttdeci">STATIC int32_t mlx90632_write_eeprom(uint16_t address, uint16_t data)</div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8c_source.html#l00631">mlx90632.c:631</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_gafa91d74bb142f52855bf6527e4910f20"><div class="ttname"><a href="group__mlx90632___a_p_i.html#gafa91d74bb142f52855bf6527e4910f20">MLX90632_EE_REFRESH_RATE_SHIFT</a></div><div class="ttdeci">#define MLX90632_EE_REFRESH_RATE_SHIFT</div><div class="ttdoc">Refresh Rate shift. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00130">mlx90632.h:130</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_gaebe4dbe9cae5f821f9783764276a7e4e"><div class="ttname"><a href="group__mlx90632___a_p_i.html#gaebe4dbe9cae5f821f9783764276a7e4e">MLX90632_EE_REFRESH_RATE_START</a></div><div class="ttdeci">#define MLX90632_EE_REFRESH_RATE_START</div><div class="ttdoc">Refresh Rate Start bit. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00129">mlx90632.h:129</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga087f6a3bdaceae00ab330aa76dfb5f3a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mlx90632_start_measurement </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Trigger start measurement for mlx90632. </p>
<p>Trigger measurement cycle and wait for data to be ready. It does not read anything, just triggers and completes.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">&lt;0</td><td>Something failed. Check errno.h for more information </td></tr>
    <tr><td class="paramname">&gt;=0</td><td>Channel position where new (recently updated) measurement can be found</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function is using usleep so it is blocking! </dd></dl>

<p>Definition at line <a class="el" href="mlx90632_8c_source.html#l00047">47</a> of file <a class="el" href="mlx90632_8c_source.html">mlx90632.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;{</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="keywordtype">int</span> ret, tries = <a class="code" href="group__mlx90632___a_p_i.html#ga6d5f060d47c89f1c5b106d577cd13c8f">MLX90632_MAX_NUMBER_MESUREMENT_READ_TRIES</a>;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    uint16_t reg_status;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    ret = <a class="code" href="group__mlx90632___a_p_i__depends.html#ga26c849ca0c3be8cc2a41e5178e92c1e4">mlx90632_i2c_read</a>(<a class="code" href="group__mlx90632___a_p_i.html#gaa71b864001998adc7b1ced30c0026fb4">MLX90632_REG_STATUS</a>, &amp;reg_status);</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    ret = <a class="code" href="group__mlx90632___a_p_i__depends.html#gadd4725baf2ab7fbdce469ded4f9a88b1">mlx90632_i2c_write</a>(<a class="code" href="group__mlx90632___a_p_i.html#gaa71b864001998adc7b1ced30c0026fb4">MLX90632_REG_STATUS</a>, reg_status &amp; (~<a class="code" href="group__mlx90632___a_p_i.html#gab4e367bc4e242eb5a6e6d259a354d442">MLX90632_STAT_DATA_RDY</a>));</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keywordflow">while</span> (tries-- &gt; 0)</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    {</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        ret = <a class="code" href="group__mlx90632___a_p_i__depends.html#ga26c849ca0c3be8cc2a41e5178e92c1e4">mlx90632_i2c_read</a>(<a class="code" href="group__mlx90632___a_p_i.html#gaa71b864001998adc7b1ced30c0026fb4">MLX90632_REG_STATUS</a>, &amp;reg_status);</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;            <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        <span class="keywordflow">if</span> (reg_status &amp; <a class="code" href="group__mlx90632___a_p_i.html#gab4e367bc4e242eb5a6e6d259a354d442">MLX90632_STAT_DATA_RDY</a>)</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <span class="comment">/* minimum wait time to complete measurement</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment">         * should be calculated according to refresh rate</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">         * atm 10ms - 11ms</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        <a class="code" href="group__mlx90632___a_p_i__depends.html#gaf8d28bb8dc5ad7e51324b607243fc182">usleep</a>(10000, 11000);</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    }</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordflow">if</span> (tries &lt; 0)</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    {</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        <span class="comment">// data not ready</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <span class="keywordflow">return</span> -<a class="code" href="group__mlx90632___a_p_i.html#ga597718e59a8fc9c4d4ab63f5a34e28b1">ETIMEDOUT</a>;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    }</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordflow">return</span> (reg_status &amp; <a class="code" href="group__mlx90632___a_p_i.html#ga0a7a304c4dfb097c4e5dfd410916abc3">MLX90632_STAT_CYCLE_POS</a>) &gt;&gt; 2;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;}</div><div class="ttc" id="group__mlx90632___a_p_i__depends_html_ga26c849ca0c3be8cc2a41e5178e92c1e4"><div class="ttname"><a href="group__mlx90632___a_p_i__depends.html#ga26c849ca0c3be8cc2a41e5178e92c1e4">mlx90632_i2c_read</a></div><div class="ttdeci">int32_t mlx90632_i2c_read(int16_t register_address, uint16_t *value)</div><div class="ttdoc">Read the register_address value from the mlx90632. </div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_ga6d5f060d47c89f1c5b106d577cd13c8f"><div class="ttname"><a href="group__mlx90632___a_p_i.html#ga6d5f060d47c89f1c5b106d577cd13c8f">MLX90632_MAX_NUMBER_MESUREMENT_READ_TRIES</a></div><div class="ttdeci">#define MLX90632_MAX_NUMBER_MESUREMENT_READ_TRIES</div><div class="ttdoc">Maximum number of read tries before quiting with timeout error. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00205">mlx90632.h:205</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_ga0a7a304c4dfb097c4e5dfd410916abc3"><div class="ttname"><a href="group__mlx90632___a_p_i.html#ga0a7a304c4dfb097c4e5dfd410916abc3">MLX90632_STAT_CYCLE_POS</a></div><div class="ttdeci">#define MLX90632_STAT_CYCLE_POS</div><div class="ttdoc">Data position in measurement table. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00172">mlx90632.h:172</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i__depends_html_gadd4725baf2ab7fbdce469ded4f9a88b1"><div class="ttname"><a href="group__mlx90632___a_p_i__depends.html#gadd4725baf2ab7fbdce469ded4f9a88b1">mlx90632_i2c_write</a></div><div class="ttdeci">int32_t mlx90632_i2c_write(int16_t register_address, uint16_t value)</div><div class="ttdoc">Write value to register_address of the mlx90632. </div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_gaa71b864001998adc7b1ced30c0026fb4"><div class="ttname"><a href="group__mlx90632___a_p_i.html#gaa71b864001998adc7b1ced30c0026fb4">MLX90632_REG_STATUS</a></div><div class="ttdeci">#define MLX90632_REG_STATUS</div><div class="ttdoc">Device status register. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00168">mlx90632.h:168</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_gab4e367bc4e242eb5a6e6d259a354d442"><div class="ttname"><a href="group__mlx90632___a_p_i.html#gab4e367bc4e242eb5a6e6d259a354d442">MLX90632_STAT_DATA_RDY</a></div><div class="ttdeci">#define MLX90632_STAT_DATA_RDY</div><div class="ttdoc">Data ready indicator. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00173">mlx90632.h:173</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i__depends_html_gaf8d28bb8dc5ad7e51324b607243fc182"><div class="ttname"><a href="group__mlx90632___a_p_i__depends.html#gaf8d28bb8dc5ad7e51324b607243fc182">usleep</a></div><div class="ttdeci">void usleep(int min_range, int max_range)</div><div class="ttdoc">Blocking function for sleeping in microseconds. </div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_ga597718e59a8fc9c4d4ab63f5a34e28b1"><div class="ttname"><a href="group__mlx90632___a_p_i.html#ga597718e59a8fc9c4d4ab63f5a34e28b1">ETIMEDOUT</a></div><div class="ttdeci">#define ETIMEDOUT</div><div class="ttdoc">From linux errno.h. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00046">mlx90632.h:46</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga1cf68ccbba3a8f5da558e1b2e7933311"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t mlx90632_start_measurement_burst </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Trigger start of burst measurement for mlx90632. </p>
<p>Trigger a single measurement cycle and wait for data to be ready. It does not read anything, just triggers and completes. The SOB bit is set so that the complete measurement table is re-freshed.</p>
<dl class="section note"><dt>Note</dt><dd>The SOB bit is cleared internally by the mlx90632 immediately after the measurement has started.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">&lt;0</td><td>Something failed. Check errno.h for more information </td></tr>
    <tr><td class="paramname">0</td><td>New data is available and waiting to be processed</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function is using usleep and msleep. Because of usleep it is blocking, while msleep implementation can have a thread switch! In case both are blocking expect up to 2 second freeze of CPU in worse case scenario (depending on Refresh rate setting), so you might also need to take care of Watch Dog. </dd></dl>

<p>Definition at line <a class="el" href="mlx90632_8c_source.html#l00553">553</a> of file <a class="el" href="mlx90632_8c_source.html">mlx90632.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;{</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    int32_t ret;</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <span class="keywordtype">int</span> tries = <a class="code" href="group__mlx90632___a_p_i.html#ga6d5f060d47c89f1c5b106d577cd13c8f">MLX90632_MAX_NUMBER_MESUREMENT_READ_TRIES</a>;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    uint16_t reg;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    ret = <a class="code" href="group__mlx90632___a_p_i__depends.html#ga26c849ca0c3be8cc2a41e5178e92c1e4">mlx90632_i2c_read</a>(<a class="code" href="group__mlx90632___a_p_i.html#ga27ae349c04b6e114bcab5014269ce520">MLX90632_REG_CTRL</a>, &amp;reg);</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    reg |= <a class="code" href="group__mlx90632___a_p_i.html#ga9c4033ef6217427cea30c2842b4b4bda">MLX90632_START_BURST_MEAS</a>;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    ret = <a class="code" href="group__mlx90632___a_p_i__depends.html#gadd4725baf2ab7fbdce469ded4f9a88b1">mlx90632_i2c_write</a>(<a class="code" href="group__mlx90632___a_p_i.html#ga27ae349c04b6e114bcab5014269ce520">MLX90632_REG_CTRL</a>, reg);</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    ret = <a class="code" href="group__mlx90632__private.html#ga81db5b10a8a36d5ae2cedc79ac5ab683">mlx90632_calculate_dataset_ready_time</a>();</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <a class="code" href="group__mlx90632___a_p_i__depends.html#ga242b1482cf8e5f7a8c5d087a2d2b5e3b">msleep</a>(ret); <span class="comment">/* Waiting for refresh of all the measurement tables */</span></div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <span class="keywordflow">while</span> (tries-- &gt; 0)</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    {</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        ret = <a class="code" href="group__mlx90632___a_p_i__depends.html#ga26c849ca0c3be8cc2a41e5178e92c1e4">mlx90632_i2c_read</a>(<a class="code" href="group__mlx90632___a_p_i.html#gaa71b864001998adc7b1ced30c0026fb4">MLX90632_REG_STATUS</a>, &amp;reg);</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;            <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        <span class="keywordflow">if</span> ((reg &amp; <a class="code" href="group__mlx90632___a_p_i.html#ga2974d9488c7545105925e80b50ed2d7d">MLX90632_STAT_BUSY</a>) == 0)</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;        <span class="comment">/* minimum wait time to complete measurement</span></div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;<span class="comment">         * should be calculated according to refresh rate</span></div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;<span class="comment">         * atm 10ms - 11ms</span></div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        <a class="code" href="group__mlx90632___a_p_i__depends.html#gaf8d28bb8dc5ad7e51324b607243fc182">usleep</a>(10000, 11000);</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    }</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="keywordflow">if</span> (tries &lt; 0)</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    {</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        <span class="comment">// data not ready</span></div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        <span class="keywordflow">return</span> -<a class="code" href="group__mlx90632___a_p_i.html#ga597718e59a8fc9c4d4ab63f5a34e28b1">ETIMEDOUT</a>;</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    }</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;}</div><div class="ttc" id="group__mlx90632___a_p_i__depends_html_ga26c849ca0c3be8cc2a41e5178e92c1e4"><div class="ttname"><a href="group__mlx90632___a_p_i__depends.html#ga26c849ca0c3be8cc2a41e5178e92c1e4">mlx90632_i2c_read</a></div><div class="ttdeci">int32_t mlx90632_i2c_read(int16_t register_address, uint16_t *value)</div><div class="ttdoc">Read the register_address value from the mlx90632. </div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_ga9c4033ef6217427cea30c2842b4b4bda"><div class="ttname"><a href="group__mlx90632___a_p_i.html#ga9c4033ef6217427cea30c2842b4b4bda">MLX90632_START_BURST_MEAS</a></div><div class="ttdeci">#define MLX90632_START_BURST_MEAS</div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00164">mlx90632.h:164</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_ga2974d9488c7545105925e80b50ed2d7d"><div class="ttname"><a href="group__mlx90632___a_p_i.html#ga2974d9488c7545105925e80b50ed2d7d">MLX90632_STAT_BUSY</a></div><div class="ttdeci">#define MLX90632_STAT_BUSY</div><div class="ttdoc">Device busy indicator. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00169">mlx90632.h:169</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i__depends_html_ga242b1482cf8e5f7a8c5d087a2d2b5e3b"><div class="ttname"><a href="group__mlx90632___a_p_i__depends.html#ga242b1482cf8e5f7a8c5d087a2d2b5e3b">msleep</a></div><div class="ttdeci">void msleep(int msecs)</div><div class="ttdoc">Blocking function for sleeping in milliseconds. </div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_ga6d5f060d47c89f1c5b106d577cd13c8f"><div class="ttname"><a href="group__mlx90632___a_p_i.html#ga6d5f060d47c89f1c5b106d577cd13c8f">MLX90632_MAX_NUMBER_MESUREMENT_READ_TRIES</a></div><div class="ttdeci">#define MLX90632_MAX_NUMBER_MESUREMENT_READ_TRIES</div><div class="ttdoc">Maximum number of read tries before quiting with timeout error. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00205">mlx90632.h:205</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i__depends_html_gadd4725baf2ab7fbdce469ded4f9a88b1"><div class="ttname"><a href="group__mlx90632___a_p_i__depends.html#gadd4725baf2ab7fbdce469ded4f9a88b1">mlx90632_i2c_write</a></div><div class="ttdeci">int32_t mlx90632_i2c_write(int16_t register_address, uint16_t value)</div><div class="ttdoc">Write value to register_address of the mlx90632. </div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_gaa71b864001998adc7b1ced30c0026fb4"><div class="ttname"><a href="group__mlx90632___a_p_i.html#gaa71b864001998adc7b1ced30c0026fb4">MLX90632_REG_STATUS</a></div><div class="ttdeci">#define MLX90632_REG_STATUS</div><div class="ttdoc">Device status register. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00168">mlx90632.h:168</a></div></div>
<div class="ttc" id="group__mlx90632__private_html_ga81db5b10a8a36d5ae2cedc79ac5ab683"><div class="ttname"><a href="group__mlx90632__private.html#ga81db5b10a8a36d5ae2cedc79ac5ab683">mlx90632_calculate_dataset_ready_time</a></div><div class="ttdeci">int32_t mlx90632_calculate_dataset_ready_time(void)</div><div class="ttdoc">Reads the refresh rate and calculates the time needed for a whole measurment table from the EEPROM se...</div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8c_source.html#l00503">mlx90632.c:503</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i__depends_html_gaf8d28bb8dc5ad7e51324b607243fc182"><div class="ttname"><a href="group__mlx90632___a_p_i__depends.html#gaf8d28bb8dc5ad7e51324b607243fc182">usleep</a></div><div class="ttdeci">void usleep(int min_range, int max_range)</div><div class="ttdoc">Blocking function for sleeping in microseconds. </div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_ga27ae349c04b6e114bcab5014269ce520"><div class="ttname"><a href="group__mlx90632___a_p_i.html#ga27ae349c04b6e114bcab5014269ce520">MLX90632_REG_CTRL</a></div><div class="ttdeci">#define MLX90632_REG_CTRL</div><div class="ttdoc">Control Register address. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00140">mlx90632.h:140</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_ga597718e59a8fc9c4d4ab63f5a34e28b1"><div class="ttname"><a href="group__mlx90632___a_p_i.html#ga597718e59a8fc9c4d4ab63f5a34e28b1">ETIMEDOUT</a></div><div class="ttdeci">#define ETIMEDOUT</div><div class="ttdoc">From linux errno.h. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00046">mlx90632.h:46</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gaf023e210e302df641f7d37757a59a0c6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__mlx90632__private.html#ga10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> int32_t mlx90632_unlock_eeporm </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="mlx90632_8c_source.html#l00598">598</a> of file <a class="el" href="mlx90632_8c_source.html">mlx90632.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;{</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__mlx90632___a_p_i__depends.html#gadd4725baf2ab7fbdce469ded4f9a88b1">mlx90632_i2c_write</a>(0x3005, <a class="code" href="group__mlx90632___a_p_i.html#ga9263f1cedbf702171cdf8455b054f28f">MLX90632_EEPROM_WRITE_KEY</a>);</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;}</div><div class="ttc" id="group__mlx90632___a_p_i_html_ga9263f1cedbf702171cdf8455b054f28f"><div class="ttname"><a href="group__mlx90632___a_p_i.html#ga9263f1cedbf702171cdf8455b054f28f">MLX90632_EEPROM_WRITE_KEY</a></div><div class="ttdeci">#define MLX90632_EEPROM_WRITE_KEY</div><div class="ttdoc">EEPROM write key 0x55 and 0x4c. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00186">mlx90632.h:186</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i__depends_html_gadd4725baf2ab7fbdce469ded4f9a88b1"><div class="ttname"><a href="group__mlx90632___a_p_i__depends.html#gadd4725baf2ab7fbdce469ded4f9a88b1">mlx90632_i2c_write</a></div><div class="ttdeci">int32_t mlx90632_i2c_write(int16_t register_address, uint16_t value)</div><div class="ttdoc">Write value to register_address of the mlx90632. </div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga8c9dc3b91a65f759b8aef862c2fe4f05"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__mlx90632__private.html#ga10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> int32_t mlx90632_wait_for_eeprom_not_busy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="mlx90632_8c_source.html#l00603">603</a> of file <a class="el" href="mlx90632_8c_source.html">mlx90632.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;{</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    uint16_t reg_status;</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    int32_t ret = <a class="code" href="group__mlx90632___a_p_i__depends.html#ga26c849ca0c3be8cc2a41e5178e92c1e4">mlx90632_i2c_read</a>(<a class="code" href="group__mlx90632___a_p_i.html#gaa71b864001998adc7b1ced30c0026fb4">MLX90632_REG_STATUS</a>, &amp;reg_status);</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <span class="keywordflow">while</span> (ret &gt;= 0 &amp;&amp; reg_status &amp; <a class="code" href="group__mlx90632___a_p_i.html#ga0a4335a5d40188d42c1bc00536216cf9">MLX90632_STAT_EE_BUSY</a>)</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    {</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        ret = <a class="code" href="group__mlx90632___a_p_i__depends.html#ga26c849ca0c3be8cc2a41e5178e92c1e4">mlx90632_i2c_read</a>(<a class="code" href="group__mlx90632___a_p_i.html#gaa71b864001998adc7b1ced30c0026fb4">MLX90632_REG_STATUS</a>, &amp;reg_status);</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    }</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;}</div><div class="ttc" id="group__mlx90632___a_p_i__depends_html_ga26c849ca0c3be8cc2a41e5178e92c1e4"><div class="ttname"><a href="group__mlx90632___a_p_i__depends.html#ga26c849ca0c3be8cc2a41e5178e92c1e4">mlx90632_i2c_read</a></div><div class="ttdeci">int32_t mlx90632_i2c_read(int16_t register_address, uint16_t *value)</div><div class="ttdoc">Read the register_address value from the mlx90632. </div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_ga0a4335a5d40188d42c1bc00536216cf9"><div class="ttname"><a href="group__mlx90632___a_p_i.html#ga0a4335a5d40188d42c1bc00536216cf9">MLX90632_STAT_EE_BUSY</a></div><div class="ttdeci">#define MLX90632_STAT_EE_BUSY</div><div class="ttdoc">Device EEPROM busy indicator. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00170">mlx90632.h:170</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i_html_gaa71b864001998adc7b1ced30c0026fb4"><div class="ttname"><a href="group__mlx90632___a_p_i.html#gaa71b864001998adc7b1ced30c0026fb4">MLX90632_REG_STATUS</a></div><div class="ttdeci">#define MLX90632_REG_STATUS</div><div class="ttdoc">Device status register. </div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8h_source.html#l00168">mlx90632.h:168</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga3a5bef99b4aeacee4207adf74535d84d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__mlx90632__private.html#ga10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> int32_t mlx90632_write_eeprom </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="mlx90632_8c_source.html#l00631">631</a> of file <a class="el" href="mlx90632_8c_source.html">mlx90632.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;{</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    int32_t ret = <a class="code" href="group__mlx90632__private.html#ga41628da99eb15d86581bc7d04a2293ed">mlx90632_erase_eeprom</a>(address);</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    ret = <a class="code" href="group__mlx90632__private.html#gaf023e210e302df641f7d37757a59a0c6">mlx90632_unlock_eeporm</a>();</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    ret = <a class="code" href="group__mlx90632___a_p_i__depends.html#gadd4725baf2ab7fbdce469ded4f9a88b1">mlx90632_i2c_write</a>(address, data);</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    ret = <a class="code" href="group__mlx90632__private.html#ga8c9dc3b91a65f759b8aef862c2fe4f05">mlx90632_wait_for_eeprom_not_busy</a>();</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;}</div><div class="ttc" id="group__mlx90632__private_html_gaf023e210e302df641f7d37757a59a0c6"><div class="ttname"><a href="group__mlx90632__private.html#gaf023e210e302df641f7d37757a59a0c6">mlx90632_unlock_eeporm</a></div><div class="ttdeci">STATIC int32_t mlx90632_unlock_eeporm()</div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8c_source.html#l00598">mlx90632.c:598</a></div></div>
<div class="ttc" id="group__mlx90632__private_html_ga8c9dc3b91a65f759b8aef862c2fe4f05"><div class="ttname"><a href="group__mlx90632__private.html#ga8c9dc3b91a65f759b8aef862c2fe4f05">mlx90632_wait_for_eeprom_not_busy</a></div><div class="ttdeci">STATIC int32_t mlx90632_wait_for_eeprom_not_busy()</div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8c_source.html#l00603">mlx90632.c:603</a></div></div>
<div class="ttc" id="group__mlx90632__private_html_ga41628da99eb15d86581bc7d04a2293ed"><div class="ttname"><a href="group__mlx90632__private.html#ga41628da99eb15d86581bc7d04a2293ed">mlx90632_erase_eeprom</a></div><div class="ttdeci">STATIC int32_t mlx90632_erase_eeprom(uint16_t address)</div><div class="ttdef"><b>Definition:</b> <a href="mlx90632_8c_source.html#l00616">mlx90632.c:616</a></div></div>
<div class="ttc" id="group__mlx90632___a_p_i__depends_html_gadd4725baf2ab7fbdce469ded4f9a88b1"><div class="ttname"><a href="group__mlx90632___a_p_i__depends.html#gadd4725baf2ab7fbdce469ded4f9a88b1">mlx90632_i2c_write</a></div><div class="ttdeci">int32_t mlx90632_i2c_write(int16_t register_address, uint16_t value)</div><div class="ttdoc">Write value to register_address of the mlx90632. </div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ga550830179421e5b049ab66072426fa4f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double emissivity = 0.0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="mlx90632_8c_source.html#l00371">371</a> of file <a class="el" href="mlx90632_8c_source.html">mlx90632.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga4c40d3f9fa0642ccff11f4699f243180"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char mlx90632version[] = { <a class="el" href="group__mlx90632__private.html#ga1c6d5de492ac61ad29aec7aa9a436bbf">VERSION</a> }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="mlx90632_8c_source.html#l00041">41</a> of file <a class="el" href="mlx90632_8c_source.html">mlx90632.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.3.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
    <img class="footer" src="doxygen/images/melexis-logo.png" alt="Melexis N.V," height="25px" hspace="10"/>
	&copy; Copyright 2015 Melexis N.V. ---
    Generated on Sat Nov 14 2020 20:39:37 for MLX90632 Driver Library by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
